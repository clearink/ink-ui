import{B as C,M as N,r as f,i as P,a3 as j,q as R,E as V,a4 as b,a5 as S,m as k,_ as z,V as D,a as B,y as _,n as y,K as F,c as m,w as G,D as L,S as q,b as H,o as M,j as h,s as W}from"./index-8OWsvV1j.js";function E(e){return e.getBoundingClientRect()}function K(e){e()}function $(){}function O(e){let t=e.parentElement;for(;t;){const{position:s}=C(t);if(s!=="static")return t;t=t.parentElement}const n=N(e);return n.documentElement||n.body}function A(...e){return f.useMemo(()=>e.every(P)?null:j(...e),e)}function g(e){const{initialValue:t,onCleanup:n,onScheduler:s,shouldPrevent:o}=e;return u=>{const r=f.useRef(t);return f.useEffect(()=>()=>{n(r.current)},[]),R((...c)=>{o(r.current)||(r.current=s(()=>{r.current=t,u(...c)}))})}}const ie=g({initialValue:$,onCleanup:K,onScheduler:V,shouldPrevent:e=>e!==$}),I=g({initialValue:-1,onCleanup:b,onScheduler:S,shouldPrevent:e=>e!==-1}),ue=g({initialValue:-1,onCleanup:b,onScheduler:S,shouldPrevent:e=>(b(e),!1)}),J=k({});function p(e){const t=e.split(/[(rgba?()),\s]/g).filter(Boolean);return t.length===3?!["255,255,255"].includes(t.join(",")):t.length===4?t[3]!=="0":!1}function Q(e){const{backgroundColor:t,borderColor:n,borderTopColor:s}=C(e);if(p(s))return s;if(p(n))return n;if(p(t))return t}function U(e){const{prefixCls:t,target:n}=e;if(!n)return;const s=Q(n);if(!s)return;const o=document.createElement("div");o.style.setProperty("position","absolute"),o.style.setProperty("--wave-color",s),o.className=`${t}-wave`;const u=()=>{const a=E(n),i=E(O(o));o.style.height=`${a.height}px`,o.style.width=`${a.width}px`;const l=a.left-i.left,d=a.top-i.top;o.style.transform=`translate3d(${l}px, ${d}px, 0)`},r=z(n,u),c=()=>{r(),o.remove()};o.addEventListener("animationstart",u),o.addEventListener("animationend",c),D(2e3,c),n.insertBefore(o,n.firstChild)}function X(e){const{component:t,selector:n}=e,{disabled:s,showEffect:o}=J.useState(),u=B("touch-effect");return I((r,c)=>{if(_(s)&&s)return;let a=r;y(n)?a=n(r):n&&(a=r.querySelector(n));const i={component:t,container:r,event:c,prefixCls:u,target:a};y(s)&&s(i)||(o?o(i):U(i))})}function Y(e){const{children:t,disabled:n}=e,s=f.useRef(null),o=X(e);f.useEffect(()=>{const r=s.current;return!r||r.nodeType!==1||n?void 0:F(r,"click",a=>{o(r,a)},!0)},[o,n]);const u=A(s,t.ref);return f.cloneElement(t,{ref:u})}const Z=k({});function ee(e,t){const{block:n,className:s,classNames:o={},disabled:u,ghost:r,loading:c,shape:a,size:i,theme:l,variant:d}=t;return{icon:m(`${e}__icon`,o.icon),root:m(e,{[`${e}--block`]:n,[`${e}--disabled`]:u,[`${e}--ghost`]:r,[`${e}--loading`]:c,[`${e}--shape-${a}`]:a&&a!=="default",[`${e}--size-${i}`]:i&&i!=="middle",[`${e}--theme-${l}`]:l&&l!=="primary",[`${e}--variant-${d}`]:d},s,o.root),text:m(`${e}__text`,o.text)}}const te={theme:"primary",type:"button",variant:"outlined"};function ne(e){return e!=="link"&&e!=="text"}const oe=["theme","variant","shape","size","loading","block","ghost","icon","onClick","children",...W];function se(e,t){const n=Z.useState(),s=G({...e,disabled:e.disabled||n.disabled},{...te,disabled:L.useState(),size:q.useState()}),{children:o,disabled:u,loading:r,onClick:c,variant:a}=s,i=H(s),l=B("button"),d=ee(l,s),w=x=>{u||r?x.preventDefault():c==null||c(x)},T=M(s,oe),v=h.jsx("button",{...T,ref:t,className:d.root,style:i.root,onClick:w,children:h.jsx("span",{className:d.text,style:i.text,children:o})});return ne(a)?h.jsx(Y,{component:"Button",disabled:!!r,children:v}):v}const re=f.forwardRef(se);function ae(e){const{children:t}=e;return h.jsx("div",{children:t})}const le=Object.assign(re,{Group:ae});export{le as B,Y as T,J as a,ue as b,O as c,ie as d,K as e,I as f,E as g,$ as n,A as u};
