import{o as g,h as d,r as l}from"./index-CtQgf38W.js";import{c as C,m as E,g as v,b as x}from"./index-D8thIb-8.js";import{o as y,g as m,a as b,u as T,b as w}from"./index-ttufKTwy.js";import{u as $}from"./preset_attrs-BM4CFZ4s.js";const k=C({});function u(n){const o=n.split(/[(rgba?()),\s]/g).filter(Boolean);return o.length===3?!["255,255,255"].includes(o.join(",")):o.length===4?o[3]!=="0":!1}function P(n){const{backgroundColor:o,borderColor:e,borderTopColor:r}=v(n);if(u(r))return r;if(u(e))return e;if(u(o))return o}function B(n){const{prefixCls:o,target:e}=n;if(!e)return;const r=P(e);if(!r)return;const t=document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("--wave-color",r),t.className=`${o}-wave`;const c=()=>{const i=m(e),a=m(b(t));t.style.height=`${i.height}px`,t.style.width=`${i.width}px`;const h=i.left-a.left,p=i.top-a.top;t.style.transform=`translate3d(${h}px, ${p}px, 0)`},s=y(e,c),f=()=>{s(),t.remove()};t.addEventListener("animationstart",c),t.addEventListener("animationend",f),E(2e3,f),e.insertBefore(t,e.firstChild)}function L(n){const{component:o,selector:e}=n,{disabled:r,showEffect:t}=k.useState(),c=$("touch-effect");return T((s,f)=>{if(g(r)&&r)return;let i=s;d(e)?i=e(s):e&&(i=s.querySelector(e));const a={component:o,container:s,event:f,prefixCls:c,target:i};d(r)&&r(a)||(t?t(a):B(a))})}function j(n){const{children:o,disabled:e}=n,r=l.useRef(null),t=L(n);l.useEffect(()=>{const s=r.current;return!s||s.nodeType!==1||e?void 0:x(s,"click",i=>{t(s,i)},!0)},[t,e]);const c=w(r,o.ref);return l.cloneElement(o,{ref:c})}export{j as T};
