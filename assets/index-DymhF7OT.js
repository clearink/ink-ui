var T=Object.defineProperty;var N=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var f=(e,t,n)=>N(e,typeof t!="symbol"?t+"":t,n);import{W as w,t as P,B as $,L as j,r as h,i as W,X as D,q as H,E as L,Y as p,_ as C,m as R,P as V,a as S,n as x,J as F,c as b,w as G,D as O,S as I,b as q,o as M,j as m,s as J}from"./index-B9VvUMji.js";function y(e){return e.getBoundingClientRect()}class X{constructor(){f(this,"_addWindowResizeHandler",t=>{w(t).addEventListener("resize",this._handleResize)});f(this,"_handleResize",()=>{this._listeners.forEach((t,n)=>{t.forEach(o=>{o(n)})})});f(this,"_instance",null);f(this,"_listeners",new Map);f(this,"_removeWindowResizeHandler",t=>{w(t).removeEventListener("resize",this._handleResize)});f(this,"observe",(t,n)=>{var o;this._listeners.size||this._addWindowResizeHandler(t),this._listeners.has(t)||(this._listeners.set(t,new Set),(o=this._getInstance())==null||o.observe(t,{box:"border-box"}));{const s=this._listeners.get(t);s&&s.add(n)}return()=>{var a;const s=this._listeners.get(t);s&&s.delete(n),s&&!s.size&&(this._listeners.delete(t),(a=this._getInstance())==null||a.unobserve(t)),this._listeners.size||this._removeWindowResizeHandler(t)}})}_getInstance(){if(!(typeof ResizeObserver>"u"))return this._instance=this._instance||new ResizeObserver(t=>{t.forEach(({target:n})=>{const o=this._listeners.get(n);o&&o.forEach(s=>{s(n)})})}),this._instance}}const Y=new X().observe;function A(e){e()}function z(){}function K(e){return P(e)==="Boolean"}function Q(e){let t=e.parentElement;for(;t;){const{position:o}=$(t);if(o!=="static")return t;t=t.parentElement}const n=j(e);return n.documentElement||n.body}function U(...e){return h.useMemo(()=>e.every(W)?null:D(...e),e)}function g(e){const{initialValue:t,onCleanup:n,onScheduler:o,shouldPrevent:s}=e;return a=>{const r=h.useRef(t);return h.useEffect(()=>()=>{n(r.current)},[]),H((...c)=>{s(r.current)||(r.current=o(()=>{r.current=t,a(...c)}))})}}const be=g({initialValue:z,onCleanup:A,onScheduler:L,shouldPrevent:e=>e!==z}),Z=g({initialValue:-1,onCleanup:p,onScheduler:C,shouldPrevent:e=>e!==-1}),ve=g({initialValue:-1,onCleanup:p,onScheduler:C,shouldPrevent:e=>(p(e),!1)}),ee=R({});function v(e){const t=e.split(/[(rgba?()),\s]/g).filter(Boolean);return t.length===3?!["255,255,255"].includes(t.join(",")):t.length===4?t[3]!=="0":!1}function te(e){const{backgroundColor:t,borderColor:n,borderTopColor:o}=$(e);if(v(o))return o;if(v(n))return n;if(v(t))return t}function ne(e){const{prefixCls:t,target:n}=e;if(!n)return;const o=te(n);if(!o)return;const s=document.createElement("div");s.style.setProperty("position","absolute"),s.style.setProperty("--wave-color",o),s.className=`${t}-wave`;const a=()=>{const i=y(n),l=y(Q(s));s.style.height=`${i.height}px`,s.style.width=`${i.width}px`;const u=i.left-l.left,d=i.top-l.top;s.style.transform=`translate3d(${u}px, ${d}px, 0)`},r=Y(n,a),c=()=>{r(),s.remove()};s.addEventListener("animationstart",a),s.addEventListener("animationend",c),V(2e3,c),n.insertBefore(s,n.firstChild)}function se(e){const{component:t,selector:n}=e,{disabled:o,showEffect:s}=ee.useState(),a=S("touch-effect");return Z((r,c)=>{if(K(o)&&o)return;let i=r;x(n)?i=n(r):n&&(i=r.querySelector(n));const l={component:t,container:r,event:c,prefixCls:a,target:i};x(o)&&o(l)||(s?s(l):ne(l))})}function oe(e){const{children:t,disabled:n}=e,o=h.useRef(null),s=se(e);h.useEffect(()=>{const r=o.current;return!r||r.nodeType!==1||n?void 0:F(r,"click",i=>{s(r,i)},!0)},[s,n]);const a=U(o,t.ref);return h.cloneElement(t,{ref:a})}const re=R({});function ie(e){return e!=="link"&&e!=="text"}function ae(e,t){const{block:n,className:o,classNames:s={},disabled:a,ghost:r,loading:c,shape:i,size:l,theme:u,variant:d}=t;return{icon:b(`${e}__icon`,s.icon),root:b(e,{[`${e}--block`]:n,[`${e}--disabled`]:a,[`${e}--ghost`]:r,[`${e}--loading`]:c,[`${e}--shape-${i}`]:i&&i!=="default",[`${e}--size-${l}`]:l&&l!=="middle",[`${e}--theme-${u}`]:u&&u!=="primary",[`${e}--variant-${d}`]:d},o,s.root),text:b(`${e}__text`,s.text)}}const ce={theme:"primary",type:"button",variant:"outlined"},le=["theme","variant","shape","size","loading","block","ghost","icon","onClick","children",...J];function ue(e,t){const n=re.useState(),o=G({...e,disabled:e.disabled||n.disabled},{...ce,disabled:O.useState(),size:I.useState()}),{children:s,disabled:a,loading:r,onClick:c,variant:i}=o,l=q(o),u=S("button"),d=ae(u,o),B=_=>{a||r?_.preventDefault():c==null||c(_)},k=M(o,le),E=m.jsx("button",{...k,ref:t,className:d.root,style:l.root,onClick:B,children:m.jsx("span",{className:d.text,style:l.text,children:s})});return ie(i)?m.jsx(oe,{component:"Button",disabled:!!r,children:E}):E}const de=h.forwardRef(ue);function fe(e){const{children:t}=e;return m.jsx("div",{children:t})}const pe=Object.assign(de,{Group:fe});export{pe as B,oe as T,ee as a,Q as b,U as c,be as d,A as e,Z as f,y as g,K as i,z as n,Y as o,ve as u};
