var g=Object.defineProperty;var v=(t,e,n)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var i=(t,e,n)=>v(t,typeof e!="symbol"?e+"":e,n);import{e as d,g as _,d as p,f as z,u as E,n as w,h as R,i as b}from"./index-D8thIb-8.js";import{r as l,n as C}from"./index-CtQgf38W.js";function T(t){return t.getBoundingClientRect()}class x{constructor(){i(this,"_addWindowResizeHandler",e=>{d(e).addEventListener("resize",this._handleResize)});i(this,"_handleResize",()=>{this._listeners.forEach((e,n)=>{e.forEach(r=>{r(n)})})});i(this,"_instance",null);i(this,"_listeners",new Map);i(this,"_removeWindowResizeHandler",e=>{d(e).removeEventListener("resize",this._handleResize)});i(this,"observe",(e,n)=>{var r;this._listeners.size||this._addWindowResizeHandler(e),this._listeners.has(e)||(this._listeners.set(e,new Set),(r=this._getInstance())==null||r.observe(e,{box:"border-box"}));{const s=this._listeners.get(e);s&&s.add(n)}return()=>{var o;const s=this._listeners.get(e);s&&s.delete(n),s&&!s.size&&(this._listeners.delete(e),(o=this._getInstance())==null||o.unobserve(e)),this._listeners.size||this._removeWindowResizeHandler(e)}})}_getInstance(){if(!(typeof ResizeObserver>"u"))return this._instance=this._instance||new ResizeObserver(e=>{e.forEach(n=>{let{target:r}=n;const s=this._listeners.get(r);s&&s.forEach(o=>{o(r)})})}),this._instance}}const I=new x().observe;function S(t){t()}function f(){}function O(t){let e=t.parentElement;for(;e;){const{position:r}=_(e);if(r!=="static")return e;e=e.parentElement}const n=p(t);return n.documentElement||n.body}function V(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.useMemo(()=>e.every(C)?null:z(...e),e)}function m(t){const{initialValue:e,onCleanup:n,onScheduler:r,shouldPrevent:s}=t;return o=>{const a=l.useRef(e);return l.useEffect(()=>()=>{n(a.current)},[]),E(function(){for(var c=arguments.length,h=new Array(c),u=0;u<c;u++)h[u]=arguments[u];s(a.current)||(a.current=r(()=>{a.current=e,o(...h)}))})}}const A=m({initialValue:f,onCleanup:S,onScheduler:w,shouldPrevent:t=>t!==f}),L=m({initialValue:-1,onCleanup:R,onScheduler:b,shouldPrevent:t=>t!==-1});export{O as a,V as b,A as c,S as e,T as g,f as n,I as o,L as u};
