var et=Object.defineProperty;var tt=(n,e,t)=>e in n?et(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>tt(n,typeof e!="symbol"?e+"":e,t);import{r as d,p as A,n as C,m as q,g as K,f as st,h as P,k,o as nt,w as W,j as g,q as Me}from"./index-CtQgf38W.js";import{u as me,a as R,c as ge,s as rt,b as it,f as at}from"./index-DjnRMsMa.js";import{u as se,m as lt,c as Z,o as Ne,g as ut,n as ot}from"./index-D8thIb-8.js";import{p as te,f as ct}from"./flatten-children-DvfXgxiR.js";import{u as J,D as Ce,S as Ie}from"./preset_attrs-BM4CFZ4s.js";import{c as Q}from"./classnames-i4W5uzNT.js";import{G as dt}from"./index-CeCT7a-l.js";import{n as T,e as ht}from"./index-ttufKTwy.js";import{t as V,i as Pe,r as oe,a as fe}from"./index-BopEiQD3.js";import{h as ne}from"./has-own-BpnzvHCN.js";import{C as Ue,R as mt}from"./index-BUz7t1M-.js";function xe(n,e){const t={};for(let s=0,r=e.length;s<r;s++){const i=e[s];i in n&&(t[i]=n[i])}return t}function pe(){const n=d.useRef(!1);return d.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),d.useCallback(()=>n.current,[])}function gt(n,e){let t=()=>{};function s(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t(),t=lt(e,()=>{n.apply(this,i)})}return[s,()=>{t()}]}function Le(n,e){const t=se(e),[s,r]=d.useMemo(()=>gt(t,n),[t,n]);return d.useEffect(()=>r,[r]),s}function Ee(n,e){const[t,s]=d.useState(e),r=pe(),i=Le(n,()=>{r()&&s(e)});return d.useEffect(i,[i,e]),t}function ft(n,e){const[t,s]=d.useState(e),r=Le(n,s);return[t,r]}const de=Z({register:()=>T,triggerFormChange:T,triggerFormFinish:T}),F=()=>{},D=Z({getFieldError:F,getFieldValue:F,getFieldsError:F,getFieldsValue:F,getInternalHooks:()=>({dispatch:F,ensureInitialized:F,getControl:F,metaUpdate:F,registerField:F,registerSubscribe:F,registerWatch:F,setFields:F,setInitialValues:F,setInternalFormMisc:F,setPreserve:F,subscribe:F}),isFieldTouched:F,isFieldValidating:F,isFieldsTouched:F,isFieldsValidating:F,resetFields:F,setFieldValue:F,setFieldsValue:F,submitForm:F,validateField:F,validateFields:F});function re(n){return V(n).reduce((e,t)=>`${e}_${A(t)}:${t}`,"")}function pt(n){const e=n.length;for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return s.every(i=>i<e&&i>=0)}function qe(n,e,t){if(!e.length)return t;const[s,...r]=e;let i={};return q(n)?i={...n}:K(n)?i=n.concat():st(s)&&(i=[]),i[s]=qe(i[s],r,t),i}function ke(n,e,t){return q(n)?qe(n,e,t):n}function O(n,e){const t=e.length;for(let s=0;s<t;s++){if(C(n))return n;n=n[e[s]]}return t?n:void 0}function Oe(n,e){if(!e.length)return n;const[t,...s]=e;return ne(n,t)&&(s.length?Oe(n[t],s):delete n[t]),n}function Ft(n,e){return q(n)?Oe(n,e):n}function ze(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakMap;if(A(n)!==A(e)||!q(n))return e;if(t.has(n))return t.get(n);if(K(n))return e;if(!q(n))return n;const s={...n};return t.set(n,s),Object.entries(e).reduce((r,i)=>{let[a,l]=i;return r[a]=ze(r[a],l,t),r},s)}function _t(n){const e=K(n)?n.concat():{...n};for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return s.reduce((i,a)=>ze(i,a),e)}function Te(n,e){if(!q(n)||!e.length)return n;const[t,...s]=e,r=K(n)?[]:{};return r[t]=Te(n[t],s),r}function vt(n,e){const t=e.length;for(let s=0;s<t;s++){const r=e[s];if(!ne(n,r))return!1;n=n[r]}return!!t}class yt{constructor(e,t,s){u(this,"_dirty",!1);u(this,"_errors",[]);u(this,"_key","");u(this,"_name",[]);u(this,"_props",{});u(this,"_touched",!1);u(this,"_validating",!1);u(this,"_warnings",[]);u(this,"lastValidate",null);u(this,"metaUpdate",e=>{const t=this.meta;!C(e.dirty)&&(this._dirty=e.dirty),!C(e.touched)&&(this._touched=e.touched),!C(e.errors)&&(this._errors=e.errors),!C(e.warnings)&&(this._warnings=e.warnings),!C(e.validating)&&(this._validating=e.validating),this.lastValidate=this._validating?Promise.resolve([]):null;const s=this.meta,r=this.mounted();if(Pe(t,s)&&r)return;const{children:i,onMetaChange:a}=this._props;a==null||a({...s,mounted:r}),P(i)&&this.forceUpdate()});u(this,"reset",()=>{this.metaUpdate({dirty:!1,errors:[],touched:!1,validating:!1,warnings:[]}),this.lastValidate=null,this.mounted()&&this._reset()});u(this,"setGetInitial",e=>{this._getInitial=e});u(this,"setInternalFieldProps",e=>{this._props=e,this._shouldHook=e.shouldUpdate,this._name!==e.name&&(this._key=re(e.name),this._name=e.name||[])});u(this,"shouldUpdate",(e,t,s)=>{const{_key:r,_name:i,_shouldHook:a}=this;return k(a)&&r?O(e,i)!==O(t,i):P(a)?a(e,t,s):!!a});u(this,"validate",async(e,t)=>{var s=this;const{rule:r}=this._props;if(!this._touched||!r||!this._key)return;const i=r.validate(e,t);return this.lastValidate=i,i.then(()=>{}).catch(a=>a).then(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(s.lastValidate!==i)return;const{issues:l=[]}=a,o=l.map(c=>c.message);s.metaUpdate({errors:o,validating:!1})})});this._reset=t,this.mounted=s,this.forceUpdate=()=>s()&&e()}get dirty(){var e;return this._dirty||!k(this._props.initialValue)?!0:!k((e=this._getInitial)==null?void 0:e.call(this))}get meta(){return{dirty:this.dirty,errors:this._errors,name:this._name,touched:this._touched,validating:this._validating,warnings:[]}}}class $t{constructor(e){u(this,"_errors",[]);u(this,"_props",{});u(this,"_warnings",[]);this._name=V(e)}}const X=Symbol.for("_$ink$_");class bt{constructor(e){u(this,"_getInternalHooks",e=>{if(!(e===X))return;const{$controls:s,$dispatch:r,$initial:i,$props:a}=this,{$dependencies:l,$watch:o}=r;return{dispatch:r.dispatch,ensureInitialized:i.ensureInitialized,metaUpdate:s.metaUpdate,registerField:r.registerField,registerWatch:o.registerWatch,setFields:r.setFields,setInitialValues:i.setInitialValues,setInternalFormMisc:a.setInternalFormMisc,subscribe:l.subscribe}});u(this,"injectForm",()=>{const{$controls:e,$dispatch:t,$state:s}=this;return{getFieldError:e.getFieldError,getFieldValue:s.getFieldValue,getFieldsError:e.getFieldsError,getFieldsValue:s.getFieldsValue,getInternalHooks:this._getInternalHooks,isFieldTouched:e.isFieldTouched,isFieldValidating:e.isFieldValidating,isFieldsTouched:e.isFieldsTouched,isFieldsValidating:e.isFieldsValidating,resetFields:t.resetFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,submitForm:t.submitForm,validateField:t.validateField,validateFields:t.validateFields}});this.forceUpdate=e,this.$props=new wt(e),this.$controls=new xt(this.$props),this.$state=new Et(this.$controls),this.$initial=new It(this.$state),this.$dispatch=new kt(this.$props,this.$controls,this.$state,this.$initial)}}class wt{constructor(e){u(this,"_props",{});u(this,"setInternalFormMisc",(e,t)=>{this._parent=t,this._props=e});this.forceUpdate=e}get useRenderProps(){return P(this._props.children)}}class Vt{constructor(){u(this,"_dependencies",new Map);u(this,"findDependencies",(e,t)=>{if(!e.length)return;const s=[],r=this._dependencies;e.forEach(i=>{var a;(a=r.get(i._key))==null||a.forEach(l=>{!l.dirty&&!l._touched||t.has(l)||(s.push(l),t.add(l))})}),this.findDependencies(s,t)});u(this,"subscribe",e=>{const{dependencies:t=[]}=e._props,s=e._key,r=this._dependencies,i=t.map(a=>{const l=re(a);if(!l||s===l)return T;const o=r.get(l)||new Set;return r.set(l,o.add(e)),()=>{o.delete(e),o.size===0&&r.delete(l)}});return()=>i.forEach(a=>a())})}}class Ct{constructor(){u(this,"_watchList",new Set);u(this,"publishWatch",()=>{this._watchList.forEach(ht)});u(this,"registerWatch",e=>(this._watchList.add(e),()=>{this._watchList.delete(e)}))}}class It{constructor(e){u(this,"_initial",{});u(this,"deleteFieldValue",e=>this.$state.deleteFieldValue(e));u(this,"getFieldValue",e=>this.$state.getFieldValue(e));u(this,"setFieldValue",(e,t)=>this.$state.setFieldValue(e,t));u(this,"ensureInitialized",e=>{const t=e._name,s=e._props.initialValue,r=this.$state.state;if(!e._key)return[r,r];if(!k(this.getFieldValue(t)))return[r,r];const a=this.getInitialValue(t)??s;return k(a)?[r,r]:this.setFieldValue(t,a)});u(this,"getInitialValue",e=>O(this._initial,V(e)));u(this,"initialFieldsValue",e=>{if(k(e))return this.deleteFieldValue();const t=this.$state.state;return e.forEach(this.deleteFieldValue),[t,this.$state.state]});u(this,"setInitialValues",e=>{this._initial=e||{}});this.$state=e}}class xt{constructor(e){u(this,"_controls",{list:[],map:new Map});u(this,"pushControl",(e,t)=>{const s=e._key;e.setGetInitial(()=>t.getInitialValue(e._name));const{list:r,map:i}=this._controls;if(te(r,e),!s)return()=>oe(r,e);const a=i.get(s)??[];return i.set(s,te(a,e)),()=>{oe(r,e),oe(a,e),!a.length&&i.delete(s)}});u(this,"getControls",(()=>{var e=this;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=e._controls.list;return t?s.filter(r=>r._key):s}})());u(this,"getControlsByName",(e,t)=>{if(k(t))return this.getControls(!0);const s=this._controls.map;return t.reduce((r,i)=>{const a=re(i),l=s.get(a);return!l&&!e&&r.push(new $t(i)),l?te(r,l):r},[])});u(this,"getFieldError",e=>this.getFieldsError([e])[0].errors);u(this,"getFieldsError",e=>this.getControlsByName(!1,e).map(s=>{const{_errors:r,_name:i,_warnings:a}=s;return{errors:r,name:i,warnings:a}}));u(this,"getValidateControls",e=>this.getControlsByName(!0,e).filter(t=>!!t._props.rule));u(this,"isFieldTouched",e=>this.isFieldsTouched([e]));u(this,"isFieldValidating",e=>this.isFieldsValidating([e]));u(this,"isFieldsTouched",e=>this.getControlsByName(!0,e).some(s=>!s._touched));u(this,"isFieldsValidating",e=>this.getControlsByName(!0,e).some(s=>!s._validating));u(this,"metaUpdate",(e,t)=>{this.getControlsByName(!0,[e]).forEach(s=>{s.metaUpdate(t)})});u(this,"registerField",(e,t)=>{const{$initial:s,$state:r,dispatch:i}=t,a=this.pushControl(e,s);return i({control:e,type:"registerField"}),()=>{const{_key:l,_name:o,_props:c}=e;a(),!((c.preserve??this.$props._props.preserve??!0)||c.isListField)&&r.getFieldValue(o)!==s.getInitialValue(o)&&(this._controls.map.has(l)||i({control:e,type:"removeField"}))}});this.$props=e}}class Et{constructor(e){u(this,"_state",{});u(this,"cleanupField",e=>(e.metaUpdate({}),this.deleteFieldValue(e._name)));u(this,"deleteFieldValue",e=>{const t=this._state;return k(e)?this._state={}:this._state=Ft(this._state,V(e)),[t,this._state]});u(this,"getFieldValue",e=>O(this._state,V(e)));u(this,"getFields",e=>this.$controls.getControlsByName(!0,e).map(t=>{const s=t._name,r=this.getFieldValue(s);return{...t.meta,name:s,value:r}}));u(this,"getFieldsValue",e=>{if(e===!0)return this._state;const t=k(e),s=nt(e)?[]:e,r=this.$controls.getControlsByName(!1,s),i=this._state;return r.reduceRight((a,l)=>{const{_name:o,_props:c}=l;return t&&c.isListField||vt(a,o)?a:ke(a,o,O(i,o))},{})});u(this,"setFieldValue",(e,t)=>{const s=this._state,r=V(e);return r.length?(this._state=ke(this._state,r,t),[s,this._state]):[s,s]});u(this,"setFieldsData",e=>{const t=this._state;return e.forEach(s=>{ne(s,"value")&&this.setFieldValue(s.name,s.value)}),[t,this._state]});u(this,"setFieldsValue",e=>{const t=this._state;return this._state=_t(this._state,e),[t,this._state]});this.$controls=e}get state(){return this._state}}class kt{constructor(e,t,s,r){u(this,"lastValidate",null);u(this,"$dependencies",new Vt);u(this,"$watch",new Ct);u(this,"dispatch",e=>{const{$controls:t,$initial:s,$state:r}=this;if(e.type==="fieldEvent"){const{control:i,type:a,value:l}=e,o=i._name,[c,h]=r.setFieldValue(o,l),m=this.updateControl(_=>_.shouldUpdate(c,h,a));return this.triggerOnValuesChange(h,o),this.triggerOnFieldsChange([i].concat(m))}if(e.type==="setFieldsValue"){const{state:i,type:a}=e,[l,o]=r.setFieldsValue(i);return this.updateControl(c=>c.shouldUpdate(l,o,a))}if(e.type==="setFields"){const{fields:i,type:a}=e;i.forEach(c=>t.metaUpdate(c.name,c));const[l,o]=r.setFieldsData(i);return this.updateControl(c=>c.shouldUpdate(l,o,a))}if(e.type==="removeField"){const{control:i,type:a}=e,[l,o]=r.cleanupField(i);return this.updateControl(c=>c.shouldUpdate(l,o,a))}if(e.type==="registerField"){const{control:i,type:a}=e,{initialValue:l}=i._props;if(k(l)||r.getFieldValue(i._name)!==l)return;const[o,c]=s.ensureInitialized(i);return this.updateControl(h=>h===i?!1:h._key===i._key?!0:h._shouldHook?h.shouldUpdate(o,c,a):!1)}if(e.type==="resetFields"){const{nameList:i,type:a}=e,l=s.initialFieldsValue(i)[0],o=t.getControlsByName(!0,i);o.forEach(s.ensureInitialized),o.forEach(h=>h.reset());const c=r.state;return this.updateControl(h=>h.shouldUpdate(l,c,a))}});u(this,"publishDependentControl",e=>{const t=new Set;this.$dependencies.findDependencies(e,t);const s=Array.from(t),r=s.map(i=>{let{_name:a}=i;return a});return r.length>0&&this.validateFields(r),s});u(this,"registerField",e=>(e._shouldHook===!0&&e.forceUpdate(),this.$controls.registerField(e,this)));u(this,"resetFields",e=>{this.dispatch({nameList:e,type:"resetFields"})});u(this,"setFieldValue",(e,t)=>{this.dispatch({fields:[{name:e,value:t}],type:"setFields"})});u(this,"setFields",e=>{this.dispatch({fields:e,type:"setFields"})});u(this,"setFieldsValue",e=>{this.dispatch({state:e,type:"setFieldsValue"})});u(this,"submitForm",()=>{this.validateFields().then(this.triggerOnFinish,this.triggerOnFailed)});u(this,"triggerOnFailed",e=>{var t,s;(s=(t=this.$props._props).onFailed)==null||s.call(t,e)});u(this,"triggerOnFieldsChange",e=>{const{name:t,onFieldsChange:s}=this.$props._props,r=this.$props._parent;if(!s&&!r)return;const{getFields:i}=this.$state,a=e.map(o=>o._name),l=i(a);!k(t)&&(r==null||r.triggerFormChange(t,l)),s==null||s(l,()=>i())});u(this,"triggerOnFinish",e=>{const{onFinish:t}=this.$props._props;if(!(!t||e==="invalid-validate"))try{t(e)}catch(s){console.error(s)}});u(this,"triggerOnValuesChange",(e,t)=>{const{onValuesChange:s}=this.$props._props;if(!s)return;const r=Te(e,t);s(r,()=>this.$state.getFieldsValue())});u(this,"updateControl",e=>{const t=this.$controls.getControls().filter(e);return this.$props.useRenderProps?this.$props.forceUpdate():t.forEach(s=>s.forceUpdate()),this.$watch.publishWatch(),this.publishDependentControl(t)});u(this,"validateField",e=>this.validateFields([e]));u(this,"validateFields",e=>{const{getFieldValue:t,getFieldsValue:s}=this.$state,{getFieldsError:r,getValidateControls:i}=this.$controls,a=i(e),l=a.map(h=>{const m=h._name;return h.metaUpdate({errors:[],touched:!0,validating:!0,warnings:[]}),h.validate(t(m),{path:m})});this.triggerOnFieldsChange(a);const o=Promise.all(l);this.lastValidate=o;const c=o.then(()=>{if(o!==this.lastValidate)return"invalid-validate";const h=r(e).filter(_=>{let{errors:v}=_;return v.length});this.triggerOnFieldsChange(a);const m=s(e);return h.length?Promise.reject({errorFields:h,values:m}):m});return c.catch(h=>h),c});this.$props=e,this.$controls=t,this.$state=s,this.$initial=r}}function St(){const n=pe(),[e,t]=d.useReducer(i=>i+1,0),s=me();return[R(()=>new yt(s,t,n)),e]}function jt(n,e,t){return function s(r){if(P(r)){const a=r(n(),t.meta,e);return{...s(a),functional:!0}}const i=ct(r);return i.length===1&&d.isValidElement(i[0])?{children:i[0],valid:!0}:{children:i,valid:!1}}}function Mt(n){return e=>!e||!q(e.target)||!ne(e.target,n)?e:e.target[n]}function Nt(n){return e=>({[n]:e})}function Pt(n,e,t,s){const{formatter:r,getValueFromEvent:i,getValueProps:a,name:l,rule:o,trigger:c,validateTrigger:h}=W(n,{getValueFromEvent:Mt(n.valuePropName),getValueProps:Nt(n.valuePropName)});return function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!t._key)return m;const _=e.getFieldValue(l),v={...m,...a(_),[c]:function(){var p;for(var $=arguments.length,b=new Array($),y=0;y<$;y++)b[y]=arguments[y];let w=i(...b);P(r)&&(w=r(w,_,()=>e.getFieldsValue())),s==null||s.metaUpdate(l,{dirty:!0,touched:!0}),s==null||s.dispatch({control:t,type:"fieldEvent",value:w}),c&&((p=m[c])==null||p.call(m,...b))}};return V(h??e.validateTrigger).reduce(($,b)=>(b===!1||($[b]=function(){var M;for(var y=arguments.length,w=new Array(y),p=0;p<y;p++)w[p]=arguments[p];(M=v[b])==null||M.call(v,...w),o&&e.validateField(l)}),$),{...v})}}function Ut(n,e,t,s){const r=Pt(n,e,t,s),i=jt(r,e,t),{children:a,functional:l,valid:o}=i(n.children);if(l||!o)return a;const c=r(a.props);return d.cloneElement(a,c)}const Lt={trigger:"onChange",valuePropName:"value"};function qt(n){const e=W(n,Lt),{rule:t,dependencies:s}=e,r=D.useState(),i=d.useMemo(()=>r.getInternalHooks(X),[r]),[a,l]=St();d.useMemo(()=>{a.setInternalFieldProps(e)},[a,e]),R(()=>i.ensureInitialized(a)),d.useEffect(()=>i.registerField(a),[a,i]);const o=fe(()=>s,[s]);d.useEffect(()=>i.subscribe(a),[a,i,o]),ge(t,(h,m)=>{!h&&m&&a.metaUpdate({errors:[],warnings:[]})});const c=Ut(e,r,a,i);return g.jsx(d.Fragment,{children:c},l)}function Ae(n){const{isListField:e,name:t}=n,{listPath:s=[]}=D.useState(),r=k(t)?[]:s.concat(V(t)),i=e?"keep":re(r);return g.jsx(qt,{...n,name:r},i)}function De(n){const e=pe(),t=me();return R(()=>{const s=()=>e()&&t();return n||new bt(s).injectForm()})}const Ot={preserve:!0,tag:"form",validateTrigger:"onChange"},zt=["name","tag","form","children","onReset","initialValues","validateTrigger","preserve","validationSchema","fields","onFinish","onFieldsChange","onValuesChange","onFailed"];function Tt(n,e){const t=W(n,Ot),{children:s,fields:r,form:i,initialValues:a,name:l,onReset:o,tag:c,validateTrigger:h}=t,m=De(i),_=de.useState();d.useImperativeHandle(e,()=>m,[m]);const v=d.useMemo(()=>m.getInternalHooks(X),[m]);d.useMemo(()=>{v.setInternalFormMisc(t,_)},[v,_,t]),R(()=>v.setInitialValues(a)),d.useEffect(()=>_.register(m,l),[m,l,_]),ge(r,{compare:Pe,listener:()=>{r&&v.setFields(r)}});const E=p=>{p==null||p.preventDefault(),p==null||p.stopPropagation(),m.submitForm()},$=p=>{p==null||p.preventDefault(),p==null||p.stopPropagation(),m.resetFields(),o==null||o(p)},b=d.useMemo(()=>({...m,formName:l,validateTrigger:h}),[m,h,l]),y=g.jsx(D.Provider,{value:b,children:P(s)?s(m.getFieldsValue(!0),m):s});if(C(c))return y;const w={...Ne(t,zt),onReset:$,onSubmit:E};return d.createElement(c,w,y)}var At=d.forwardRef(Tt);function We(n,e){const[t,s]=d.useState(),r=D.useState(),i=e??r,a=d.useMemo(()=>i==null?void 0:i.getInternalHooks(X),[i]),l=fe(()=>V(n),[n]),o=se(()=>a==null?void 0:a.registerWatch(()=>{const c=i==null?void 0:i.getFieldValue(l);rt(c,t)||s(c)}));return d.useEffect(o,[o,l]),t}class Dt{constructor(){u(this,"_context",null);u(this,"_id",0);u(this,"_keys",[]);u(this,"_listPath",[]);u(this,"_rule");u(this,"append",e=>{this._keys=this._keys.concat(this._id),this.dispatchEvent(this.getFieldList().concat(e)),this._id+=1});u(this,"dispatchEvent",e=>{var s,r;const t=(s=this._context)==null?void 0:s.getInternalHooks(X);t==null||t.dispatch({fields:[{name:this._listPath,value:e}],type:"setFields"}),this._rule&&((r=this._context)==null||r.validateFields([this._listPath]))});u(this,"getFieldList",()=>{var t;const e=(t=this._context)==null?void 0:t.getFieldValue(this._listPath);return V(e)});u(this,"insert",(e,t)=>{const s=this.getFieldList().concat();s.splice(e,0,t),this._keys.splice(e,0,this._id),this.dispatchEvent(s),this._id+=1});u(this,"move",(e,t)=>{const s=this.getFieldList().concat();pt(s,e,t)&&(s.splice(t,0,s.splice(e,1)[0]),this._keys.splice(t,0,this._keys.splice(e,1)[0]),this.dispatchEvent(s))});u(this,"prepend",e=>{this._keys=[this._id,...this._keys],this.dispatchEvent([e].concat(this.getFieldList())),this._id+=1});u(this,"remove",e=>{const t=new Set(V(e)),s=(i,a)=>t.size===0?!1:!t.has(a),r=this.getFieldList();this._keys=this._keys.filter(s),this.dispatchEvent(r.filter(s))});u(this,"replace",(e,t)=>{const s=this.getFieldList();s[e]=t,this.dispatchEvent(s)});u(this,"swap",(e,t)=>{const s=this.getFieldList();[s[e],s[t]]=[s[t],s[e]];const r=this._keys;[this._keys[e],this._keys[t]]=[r[t],r[e]],this.dispatchEvent(s)});u(this,"ensureFieldKey",e=>{const t=this._keys[e];return k(t)&&(this._keys[e]=this._id,this._id+=1),this._keys[e]});u(this,"getFeatures",()=>({append:this.append,insert:this.insert,move:this.move,prepend:this.prepend,remove:this.remove,replace:this.replace,swap:this.swap}));u(this,"setInternalFormListMisc",(e,t,s)=>{this._context=e,this._listPath=t,this._rule=s})}}function Re(n){const{children:e,initialValue:t,name:s,preserve:r,rule:i}=n,a=D.useState(),l=fe(()=>V(a.listPath).concat(V(s)),[a.listPath,s]),o=d.useMemo(()=>({...a,listPath:l}),[a,l]),c=R(()=>new Dt);c.setInternalFormListMisc(a,l,i);const h=d.useMemo(()=>c.getFeatures(),[c]);return P(e)?g.jsx(D.Provider,{value:o,children:g.jsx(Ae,{initialValue:t,name:[],preserve:r,rule:i,shouldUpdate:(_,v,E)=>{const $=V(s),b=O(_,$),y=O(v,$);return E!=="setFields"&&E!=="fieldEvent"?b!==y:A(b)!==A(y)?!0:K(y)&&b.length!==y.length},children:(_,v)=>{let{value:E}=_;const $=V(E,!0).map((b,y)=>({isListField:!0,key:c.ensureFieldKey(y),name:y}));return e($,h,v)}})}):null}function Wt(n){const e=d.useRef({}),t=de.useState(),s=d.useMemo(()=>({register:it(t.register,(r,i)=>i?(e.current[i]=r,()=>{delete e.current[i]}):T),triggerFormChange:t.triggerFormChange,triggerFormFinish:t.triggerFormFinish}),[t]);return g.jsx(de.Provider,{value:s,children:n.children})}const ie=Object.assign(At,{Field:Ae,List:Re,Provider:Wt,useForm:De,useWatch:We});function ce(n,e,t){return e.map((s,r)=>({key:d.isValidElement(s)?`${s.key}-${s.type}-${n}-${r}`:`${s}-${A(s)}`,status:at(t,n),value:s}))}function Rt(n){const{help:e,helpStatus:t,errors:s,warnings:r}=n,i=Ee(40,s||[]),a=Ee(40,r||[]);return d.useMemo(()=>C(e)?te(ce("error",i),ce("warning",a)):ce("help",[e],t),[i,e,t,a])}const Bt={onEnter:n=>{n.$set("height","0px")},onEntering:n=>{n.$set("height",`${n.scrollHeight}px`)},onEntered:n=>{n.$remove("height")},onEnterCancel:n=>{n.$set("height",`${n.offsetHeight}px`)},onExit:n=>{n.$set("height",`${n.offsetHeight}px`)},onExiting:n=>{n.$set("height","0px")},onExited:n=>{n.$remove("height")},onExitCancel:n=>{n.$set("height",`${n.offsetHeight}px`)}};function Be(n){const{className:e,onFinished:t}=n,s=J("form-item-message"),r=Rt(n);return g.jsx("div",{className:Q(s,e),children:g.jsx(dt,{appear:!0,classNames:`${s}-motion`,...Bt,onFinished:t,children:r.map(i=>g.jsx("div",{className:`${s}--${i.status}`,children:i.value},i.key))})})}const B=Z({labelAlign:"right",layout:"horizontal"}),He=Z({}),Ge=Z(T);function Ke(n){const e=ie.useForm();return d.useMemo(()=>n??{...e,scrollToField:t=>{console.log(t)}},[e,n])}function Ht(n,e){const{className:t,layout:s,requiredMark:r,size:i}=e;return Q(n,{[`${n}--${s}`]:s,[`${n}--${i}`]:i,[`${n}--hide-required-mark`]:!r},t)}const Gt={colon:!0,layout:"horizontal",requiredMark:!0},Kt=["form","colon","layout","labelAlign","labelWrap","labelCol","wrapperCol","size","disabled","scrollToFirstError","requiredMark"];function Zt(n,e){const t=W(n,{...Gt,disabled:Ce.useState(),size:Ie.useState()}),{colon:s,disabled:r,form:i,labelAlign:a,labelCol:l,labelWrap:o,layout:c,name:h,onFailed:m,requiredMark:_,scrollToFirstError:v,size:E,wrapperCol:$}=t,b=J("form"),y=Ht(b,t),w=Ke(i);d.useImperativeHandle(e,()=>w,[w]);const p=d.useMemo(()=>({colon:s,form:w,formName:h,labelAlign:a,labelCol:l,labelWrap:o,layout:c,requiredMark:_,wrapperCol:$}),[s,_,w,a,l,o,c,h,$]),M=se(Ye=>{m==null||m(Ye),console.log(v)}),ue=Ne(t,Kt);return g.jsx(Ce.Provider,{value:r,children:g.jsx(Ie.Provider,{value:E,children:g.jsx(B.Provider,{value:p,children:g.jsx(ie,{...ue,className:y,form:w,name:h,onFailed:M})})})})}var Jt=d.forwardRef(Zt);function Qt(){return B.useState().form}function Xt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q(n,e&&`${n}--has-${e}`,t.className)}function Yt(n,e){return d.useMemo(()=>{const t="";return C(e)?n.validating?"validating":n.errors.length?"error":n.warnings.length?"warning":n.touched?"success":t:e},[n,e])}function es(n,e){const{getOuter:t}=n,s=me(),r=R(()=>({offset:0})),i=c=>{r.offset!==c&&s(),r.offset=c},a=()=>{!e&&i(0)},l=se(c=>{const h=t();if(!e||!h)return!1;const m=ut(h);return i(Number.parseFloat(m.marginBottom)),c&&s(),c}),o=ge(e,()=>l(!0));return d.useEffect(()=>ot(()=>{l(!1)}),[l]),{returnEarly:o,offset:r.offset,cleanOffset:a}}function ts(){return{dirty:!1,errors:[],mounted:!1,name:[],touched:!1,validating:!1,warnings:[]}}function Se(){const[n,e]=ft(80,ts),t=d.useCallback(s=>{s.mounted&&e(s)},[e]);return[n,t]}function ss(n){const e=B.useState(),t=W(n,{wrapperCol:e.wrapperCol}),{children:s,extra:r,help:i,validateStatus:a,wrapperCol:l}=t,[o,c]=Se(),[h,m]=Se(),_=Yt(o,a),v=J("form-item__control"),E=Xt(v,_,l),$=d.useMemo(()=>({validateStatus:_}),[_]),b=d.useMemo(()=>o.errors.concat(h.errors),[o.errors,h.errors]),y=d.useMemo(()=>o.warnings.concat(h.warnings),[o.warnings,h.warnings]),w=!C(i)||!!(b.length||y.length),{returnEarly:p,offset:M,cleanOffset:ue}=es(t,w);return p?null:g.jsx(Ue,{...l,className:E,children:g.jsxs(He.Provider,{value:$,children:[g.jsx("div",{className:`${v}-input`,children:s(c,m)}),!!(w||M)&&g.jsx("div",{className:`${v}-status`,style:{minHeight:M},children:g.jsx(Be,{errors:b,help:i,helpStatus:_,warnings:y,onFinished:ue})}),!C(r)&&g.jsx("div",{className:`${v}-extra`,children:r}),!!M&&g.jsx("div",{className:`${v}-offset`,style:{marginBottom:-M}})]})})}function ns(n,e,t){const{colon:s,labelAlign:r,labelCol:i={},labelWrap:a,required:l,requiredMark:o}=e;return Q(n,{[`${n}--${r}`]:r,[`${n}--colon`]:s,[`${n}--has-colon`]:s&&t.layout!=="vertical",[`${n}--required`]:l,[`${n}--required-optional`]:o==="optional",[`${n}--wrap`]:a},i.className)}function rs(n,e){const{colon:t,label:s,required:r,requiredMark:i,tooltip:a}=n,l=e.layout!=="vertical"&&t;let o=s;return l&&Me(o)&&(o=o.replace(/[:|：]\s*$/,"")),o}function is(n){const e=B.useState(),t=W(n,{colon:e.colon,labelAlign:e.labelAlign,labelCol:e.labelCol,labelWrap:e.labelWrap,requiredMark:e.requiredMark}),{htmlFor:s,label:r}=t,i=J("form-item__label"),a=ns(i,t,e),l=Me(r)?r:void 0;return g.jsx(Ue,{...t.labelCol,className:a,children:g.jsx("label",{htmlFor:s,title:l,children:rs(t,e)})})}function as(n,e){const{className:t,hidden:s}=e;return Q(n,s&&`${n}--hidden`,t)}function Ze(n,e){return d.useMemo(()=>{if(C(n))return;const t=V(n).join("_");return C(e)?t:`${e}_${t}`},[e,n])}function ls(n){const{children:e,dependencies:t=[],name:s,shouldUpdate:r}=n,i=V(s).length,a=P(e);return!!(i&&a||r&&t.length||a&&!(r||t.length)||t.length&&!(a||i))}function Je(n,e,t){const{children:s}=n;if(ls(n))return()=>null;if(P(s))return()=>s(e);if(!d.isValidElement(s))return()=>s;const r=s.props.id;return C(t)||!C(r)?s:d.cloneElement(s,{id:t})}const us=["colon","htmlFor","label","labelAlign","labelCol","labelWrap","requiredMark","tooltip"],os=["wrapperCol","extra","help","validateStatus"];function cs(n){const{form:e,formName:t}=B.useState(),s=Ge.useState(),r=Ze(n.name,t);return g.jsx(ie.Field,{...n,onMetaChange:s,children:Je(n,e,r)})}function ds(n){const{label:e,name:t,required:s,style:r}=n,{form:i,formName:a}=B.useState(),l=J("form-item"),o=Ze(t,a),c=as(l,n),h=d.useRef(null),m=d.useCallback(()=>h.current,[]),_=xe(n,us),v=xe(n,os);return g.jsxs(mt,{ref:h,className:c,style:r,children:[!C(e)&&g.jsx(is,{htmlFor:o,required:s,..._}),g.jsx(ss,{...v,getOuter:m,children:(E,$)=>g.jsx(Ge.Provider,{value:$,children:g.jsx(ie.Field,{...n,onMetaChange:E,children:Je(n,i,o)})})})]})}function hs(n){return d.createElement(n.noStyle?cs:ds,n)}function ms(){const{validateStatus:n}=He.useState();return n}const je=Object.assign(Jt,{ErrorList:Be,Item:Object.assign(hs,{useStatus:ms}),List:Re,useForm:Ke,useFormInstance:Qt,useWatch:We}),I=n=>({status:"valid",value:n});function U(n){return(e,t)=>n.abortEarly&&!n.issue.isEmpty?Promise.reject(n.issue):(n.issue.addIssue(e,n.path,t),{status:"invalid"})}function f(n,e,t){return async(s,r)=>await n(s)?I(s):U(r)(e,{value:s,...t})}function gs(n,e){const t={},s=Object.keys(n),r=new Set(e);for(let i=0,a=s.length;i<a;i++){const l=s[i];r.has(l)||(t[l]=n[l])}return t}const fs=Object.prototype.toString,ae=n=>fs.call(n).slice(8,-1),ps=n=>n===null,L=n=>n===void 0,Fe=n=>n==null,{isArray:Fs}=Array,_s=n=>typeof n=="function";function vs(n){return n!=null&&typeof n=="object"}const Qe=n=>ae(n)==="Number",Xe=n=>ae(n)==="String",ys=n=>ae(n)==="Boolean",$s=n=>ae(n)==="Date";function bs(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((e,t)=>Qe(t)?`${e}[${t}]`:t.includes(".")?`${e}['${t}']`:e.length?`${e}.${t}`:`${t}`,"")}class z extends TypeError{constructor(){super(...arguments);u(this,"issues",[])}static ensure(t,s){const r=(t==null?void 0:t.path)||[];return{abortEarly:(t==null?void 0:t.abortEarly)??!1,issue:(t==null?void 0:t.issue)??new z,path:Fe(s)?r:r.concat(s)}}static format(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_s(t))return t({...r,path:s});if(!Xe(t))return t;const i={...r,path:bs(s)||"this"};return Object.entries(i).reduce((a,l)=>{let[o,c]=l;const h=new RegExp(`{#${o}}`,"g");return a.replace(h,String(c))},t)}}addIssue(t,s,r){const i=z.format(t,s)(r);this.issues.push({message:i,path:s})}addIssues(t){return this.issues=this.issues.concat(t),this}get isEmpty(){return!this.issues.length}get message(){const t=this.issues.map(s=>{try{return JSON.stringify(s.message),s.message}catch{return"error can not stringify"}});return JSON.stringify(t,null,2)}}const he={invalid:"{#path} is invalid",required:"{#path} is a required field"},S={email:"{#path} must be a valid email",invalid:"{#path} must be a string",length:"{#path} must be exactly {#length} characters",lowercase:"{#path} must be a lowercase string",max:"{#path} must be at most {#max} characters",min:"{#path} must be at least {#min} characters",range:"{#path} length be between {#min} and {#max}",regex:'{#path} must match the following: "{#regex}"',uppercase:"{#path} must be a upper case string",url:"{#path} must be a valid URL",uuid:"{#path} must be a valid UUID"},N={equal:"{#path} must be equal to {#equal}",integer:"{#path} must be an integer",invalid:"{#path} must be a number",max:"{#path} must be less than {#max}",min:"{#path} must be greater than {#min}",negative:"{#path} must be a negative number",positive:"{#path} must be a positive number",range:"{#path} be between {#min} and {#max}"},Y={false:"{#path} field must be false",invalid:"{#path} must be a boolean",true:"{#path} field must be true"},ee={invalid:"{#path} must be a date",max:"{#path} field must be at earlier than {#max}",min:"{#path} field must be later than {#min}"},ws={invalid:"{#path} must be a object",unknown:"{#path} field has unspecified keys: {#unknown}"},H={invalid:"{#path} must be a array",length:"{#path} must have {#length} items",max:"{#path} field must have less than or equal to {#max} items",min:"{#path} field must have at least {#min} items",nonempty:"{#path} must have at least one items"},Vs={invalid:"{#path} must be include {#enums}"},Cs={invalid:"{#path} is invalid union type"};class j{constructor(){u(this,"rules",new Map)}_refine(e,t){return this.rules.set(e,t),this}_remove(e){return this.rules.delete(e),this}_validate(e,t){const s=[...this.rules.values()].map(r=>r(e,t));return Promise.all(s).then(r=>{for(let i=0,a=r.length;i<a;i++){const l=r[i];if(l.status==="invalid")return l}return I(e)})}nullable(){return x.nullable(this)}or(e){return G.create([this,e])}preprocess(e){return x.preprocess(this,e)}refine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:he.invalid;return x.refinement(this,e,t)}required(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:he.required;const t=s=>!Fe(s);return x.required(this,f(t,e))}transform(e){return x.transform(this,e)}union(e){return G.create([this,e])}async validate(e,t){const s=z.ensure({...t,issue:void 0}),r=await this._validate(e,s);if(r.status==="valid")return r.value;throw s.issue}}class x extends j{constructor(e,t){super(),this.schema=e,this.options=t}static nullable(e){return new x(e,{type:"nullable"})}static preprocess(e,t){return new x(e,{handler:t,type:"preprocess"})}static refinement(e,t,s){const r=f(t,s);return new x(e,{handler:r,type:"refinement"})}static required(e,t){return new x(e,{handler:t,type:"required"})}static transform(e,t){return new x(e,{handler:t,type:"transform"})}get _type(){return this.options.type}async _validate(e,t){const{options:s}=this;if(s.type==="transform"){const i=await this.schema._validate(e,t);if(i.status==="invalid")return i;const a=await s.handler(e);return I(a)}if(s.type==="preprocess"){const i=await s.handler(e);return this.schema._validate(i,t)}if(s.type==="nullable")return ps(e)?I(e):this.schema._validate(e,t);if(s.type==="required"){const i=await s.handler(e,t);return i.status==="invalid"?i:this.schema._validate(e,t)}const r=await this.schema._validate(e,t);return r.status==="invalid"?r:s.handler(e,t)}unwrap(){return this.schema}}class G extends j{constructor(e){super(),this.inner=e}static create(e){return new G(e)}async _validate(e,t){if(L(e))return I(e);const s=await Promise.all(this.inner.map(async r=>{const i=z.ensure(gs(t,["issue"]));try{return[i,await r._validate(e,i)]}catch(a){return[i,a]}}));for(let r=0,i=s.length;r<i;r++){const a=s[r][1];if(a.status==="valid")return a}for(let r=0,i=s.length;r<i;r++){const a=s[r][1];if(a.status==="invalid")return a}return U(t)(Cs.invalid,{value:e})}}class le extends j{static create(){return new le}_validate(e){return I(e)}}class _e extends j{constructor(e){super(),this.inner=e}static create(e){return new _e(e??le.create())}async _validate(e,t){if(L(e))return I(e);if(!Fs(e))return U(t)(H.invalid,{value:e});const s=await super._validate(e,t);return s.status==="invalid"?s:this._validateInner(e,t)}async _validateInner(e,t){const s=e.map((r,i)=>{const a=z.ensure(t,i);return this.inner._validate(r,a)});return Promise.all(s).then(r=>{for(let i=0,a=r.length;i<a;i++){const l=r[i];if(l.status==="invalid")return l}return I(e)})}length(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.length;const s=r=>r.length===e;return this._refine("length",f(s,t,{length:e}))}max(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.max;const s=r=>r.length<=e;return this._refine("max",f(s,t,{max:e}))}min(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H.min;const s=r=>r.length>=e;return this._refine("min",f(s,t,{min:e}))}nonempty(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H.nonempty;return this.min(1,e)}get element(){return this.inner}}class ve extends j{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y.invalid;super(),this.message=e}static create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y.invalid;return new ve(e)}_validate(e,t){return L(e)?I(e):ys(e)?super._validate(e,t):U(t)(this.message,{value:e})}false(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y.false;const t=s=>s===!1;return this._refine("boolean",f(t,e))}true(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Y.true;const t=s=>s===!0;return this._refine("boolean",f(t,e))}}class ye extends j{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee.invalid;super(),this.message=e}static create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ee.invalid;return new ye(e)}_validate(e,t){return L(e)?I(e):!$s(e)||Number.isNaN(e.getTime())?U(t)(this.message,{value:e}):super._validate(e,t)}max(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ee.max;const s=r=>r<=e;return this._refine("max",f(s,t,{max:e}))}min(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ee.min;const s=r=>r>=e;return this._refine("min",f(s,t,{min:e}))}}class $e extends j{constructor(e){super(),this.inner=e}static create(e){return new $e(e)}_validate(e,t){return L(e)?I(e):this.inner.includes(e)?super._validate(e,t):U(t)(Vs.invalid,{enums:this.inner,value:e})}get enum(){return this.inner}}class be extends j{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.invalid;super(),this.message=e}static create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.invalid;return new be(e)}_validate(e,t){return L(e)?I(e):!Qe(e)||Number.isNaN(e)?U(t)(this.message,{value:e}):super._validate(e,t)}equal(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.equal;const s=r=>r===e;return this._refine("equal",f(s,t,{equal:e}))}integer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.integer;const t=s=>Number.isInteger(s);return this._refine("integer",f(t,e))}max(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.max;const s=r=>r<=e;return this._refine("max",f(s,t,{max:e}))}min(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.min;const s=r=>r>=e;return this._refine("min",f(s,t,{min:e}))}negative(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.negative;const t=s=>s<0;return this._refine("negative",f(t,e))}positive(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.positive;const t=s=>s>0;return this._refine("positive",f(t,e))}range(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.range;const r=i=>i>=e&&i<=t;return this._refine("range",f(r,s,{max:t,min:e}))}}class we extends j{constructor(e){super(),this.inner=e}static create(e){return new we(e)}async _validate(e,t){if(L(e))return I(e);if(!vs(e))return U(t)(ws.invalid,{value:e});const s=await super._validate(e,t);return s.status==="invalid"?s:this._validateInner(e,t)}async _validateInner(e,t){const s=Object.entries(this.shape).map(r=>{let[i,a]=r;const l=z.ensure(t,i);return a._validate(e[i],l)});return Promise.all(s).then(r=>{for(let i=0,a=r.length;i<a;i++){const l=r[i][1];if(l.status==="invalid")return l}return I(e)})}passthrough(){return this._remove("strict"),this}get shape(){return this.inner}}const Is=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,xs=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/,Es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;class Ve extends j{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.invalid;super(),this.message=e}static create(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.invalid;return new Ve(e)}_validate(e,t){return L(e)||e===""?I(e):Xe(e)?super._validate(e,t):U(t)(this.message,{value:e})}email(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.email;const t=s=>Is.test(s);return this._refine("email",f(t,e))}length(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.length;const s=r=>r.length===e;return this._refine("length",f(s,t,{length:e}))}lowercase(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.lowercase;const t=s=>s===s.toLowerCase();return this._refine("lowercase",f(t,e))}max(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.max;const s=r=>r.length<=e;return this._refine("max",f(s,t,{max:e}))}min(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.min;const s=r=>r.length>=e;return this._refine("min",f(s,t,{min:e}))}range(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.range;const r=i=>i.length>=e&&i.length<=t;return this._refine("range",f(r,s,{max:t,min:e}))}regex(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.regex;const s=r=>e.test(r);return this._refine("regex",f(s,t,{regex:e}))}required(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:he.required;const t=s=>!(Fe(s)||s==="");return x.required(this,f(t,e))}uppercase(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.uppercase;const t=s=>s===s.toUpperCase();return this._refine("uppercase",f(t,e))}url(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.url;const t=s=>xs.test(s);return this._refine("url",f(t,e))}uuid(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.uuid;const t=s=>Es.test(s);return this._refine("uuid",f(t,e))}}const ks=Ve.create,Ss=be.create,js=ve.create,Ms=we.create,Ns=le.create,Ps=_e.create,Us=$e.create,Ls=ye.create,qs=G.create,Os=x.refinement,{preprocess:zs,refinement:tn,transform:Ts}=x;var As={any:Ns,array:Ps,boolean:js,date:Ls,enums:Us,number:Ss,object:Ms,preprocess:zs,refine:Os,string:ks,transform:Ts,union:qs};function Ds(n){return g.jsx("input",{...n,value:n.value||"",style:{height:32}})}function sn(){return g.jsx(je,{tag:"div",children:g.jsx(je.Item,{label:"username",name:"username",rule:As.string().min(3).max(7).required(),children:g.jsx(Ds,{placeholder:"username"})})})}export{sn as A};
