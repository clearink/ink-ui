var N=Object.defineProperty;var P=(t,r,e)=>r in t?N(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var x=(t,r,e)=>P(t,typeof r!="symbol"?r+"":r,e);import{g as y,B as p}from"./index-D-fmx-oO.js";import{g as S,d as g,h as A,a as w,j as s,e as k,c as E,r as j,k as F,w as M,b as W,l as _}from"./index-4ChR5QsO.js";import{S as $}from"./index-DZABrK0k.js";import{G as v}from"./index-wL4i16Hh.js";import{r as R}from"./reflow-DLApPcpg.js";const G=Array.from({length:10},(t,r)=>`${r}`);class D{constructor(){x(this,"$wrapper",{current:null});x(this,"items",new Map)}get wrapper(){return this.$wrapper.current}}function O(t){const{char:r}=t,e=S(()=>new D),[n,o]=g([null,r]),[i,a]=g(!0),c=(u,l)=>{const b=y(e.wrapper),C=y(l),B=b.top-C.top;u.style.setProperty("transform",`translate3d(0, ${B}px, 0)`)},m=u=>{const l=e.items.get(n[0]);!e.wrapper||!l||(c(u,l),R(u))},d=u=>{const l=e.items.get(n[1]);!e.wrapper||!l||c(u,l)},f=()=>{a(!0)};return{returnEarly:A(r,()=>{o([n[1],r]),a(!1)}),refs:e,showChar:i,handleEnter:m,handleEntering:d,handleEntered:f}}function T(t){const{char:r}=t,e=w("badge-scroll-number"),{returnEarly:n,refs:o,showChar:i,handleEnter:a,handleEntering:c,handleEntered:m}=O(t);return n?null:i?s.jsx(s.Fragment,{children:r}):s.jsx(k,{appear:!0,when:!0,timeouts:500,classNames:`${e}-motion`,onEnter:a,onEntering:c,onEntered:m,children:s.jsx("span",{ref:o.$wrapper,className:e,children:G.map(d=>s.jsx("span",{ref:f=>{o.items.set(d,f)},children:d},d))})},r)}function H(t,r){const{dot:e,className:n,classNames:o={}}=r;return{root:E(t,{[`${t}--dot`]:e},n,o.root),indicator:E(`${t}__indicator`,o.indicator)}}function L(t){const{count:r,maxCount:e}=t;return j.useMemo(()=>{if(!F(r))return null;const n=Math.min(r,e),o=`${Math.abs(n)}`.split("").map((i,a)=>({char:i,key:`${a}`,scroll:!0}));return n<0&&o.unshift({char:"-",key:"-",scroll:!1}),r>e&&o.push({char:"+",key:"+",scroll:!1}),o},[r,e])}const V={maxCount:99},q={onEnter:t=>{t.style.setProperty("width","0px")},onEntering:t=>{t.style.setProperty("width",`${t.scrollWidth}px`)},onEntered:t=>{t.style.removeProperty("width")},onEnterCancel:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)},onExit:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)},onExiting:t=>{t.style.setProperty("width","0px")},onExited:t=>{t.style.removeProperty("width")},onExitCancel:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)}};function z(t){const r=M(t,V),{children:e}=r,n=w("badge"),o=H(n,r),i=W(r),a=L(r);return s.jsxs("span",{className:o.root,style:i.root,children:[e,_(a)&&!!a.length&&s.jsx("sup",{className:o.indicator,style:i.indicator,children:s.jsx(v,{classNames:`${n}-scroll-group-motion`,...q,children:a.map(c=>s.jsx("span",{className:`${n}-scroll-group`,children:c.scroll?s.jsx(T,{char:c.char}):c.char},c.key))})})]})}function I(t){return s.jsx("div",{children:"badge.ribbon"})}const h=Object.assign(z,{Ribbon:I});function tt(){return s.jsxs($,{children:[s.jsx(h,{count:12,children:s.jsx(p,{children:"Badge"})}),s.jsx(h,{count:23,children:s.jsx(p,{children:"Badge"})})]})}function rt(){const[t,r]=j.useState(12);return s.jsx($,{children:s.jsx(h,{count:t,children:s.jsx(p,{onClick:()=>{r(~~(Math.random()*100))},children:"Badge"})})})}function et(){return s.jsx(h,{dot:!0,count:1,children:s.jsx(p,{children:"Badge"})})}function st(){return s.jsx("div",{children:"建设中,敬请期待!"})}export{tt as A,rt as a,et as b,st as c};
