var N=Object.defineProperty;var P=(t,e,r)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var x=(t,e,r)=>P(t,typeof e!="symbol"?e+"":e,r);import{g as y,B as p}from"./index-ekRem82_.js";import{g as S,d as g,h as A,a as w,j as s,e as k,c as E,r as j,k as F,w as M,b as W,l as _}from"./index-CR1k0Zhi.js";import{S as $}from"./index-BgM0FYt0.js";import{G as v}from"./index-9b_gXZB1.js";import{r as R}from"./reflow-DR0gFfwT.js";const G=Array.from({length:10},(t,e)=>`${e}`);class D{constructor(){x(this,"$wrapper",{current:null});x(this,"items",new Map)}get wrapper(){return this.$wrapper.current}}function O(t){const{char:e}=t,r=S(()=>new D),[n,o]=g([null,e]),[i,a]=g(!0),c=(u,l)=>{const b=y(r.wrapper),C=y(l),B=b.top-C.top;u.style.setProperty("transform",`translate3d(0, ${B}px, 0)`)},m=u=>{const l=r.items.get(n[0]);!r.wrapper||!l||(c(u,l),R(u))},d=u=>{const l=r.items.get(n[1]);!r.wrapper||!l||c(u,l)},f=()=>{a(!0)};return{returnEarly:A(e,()=>{o([n[1],e]),a(!1)}),refs:r,showChar:i,handleEnter:m,handleEntering:d,handleEntered:f}}function T(t){const{char:e}=t,r=w("badge-scroll-number"),{returnEarly:n,refs:o,showChar:i,handleEnter:a,handleEntering:c,handleEntered:m}=O(t);return n?null:i?s.jsx(s.Fragment,{children:e}):s.jsx(k,{appear:!0,when:!0,timeouts:1e3,classNames:`${r}-motion`,onEnter:a,onEntering:c,onEntered:m,children:s.jsx("span",{ref:o.$wrapper,className:r,children:G.map(d=>s.jsx("span",{ref:f=>{o.items.set(d,f)},children:d},d))})},e)}function H(t,e){const{dot:r,className:n,classNames:o={}}=e;return{root:E(t,{[`${t}--dot`]:r},n,o.root),indicator:E(`${t}__indicator`,o.indicator)}}function L(t){const{count:e,maxCount:r}=t;return j.useMemo(()=>{if(!F(e))return null;const n=Math.min(e,r),o=`${Math.abs(n)}`.split("").map((i,a)=>({char:i,key:`${a}`,scroll:!0}));return n<0&&o.unshift({char:"-",key:"-",scroll:!1}),e>r&&o.push({char:"+",key:"+",scroll:!1}),o},[e,r])}const V={maxCount:99},q={onEnter:t=>{t.style.setProperty("width","0px")},onEntering:t=>{t.style.setProperty("width",`${t.scrollWidth}px`)},onEntered:t=>{t.style.removeProperty("width")},onEnterCancel:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)},onExit:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)},onExiting:t=>{t.style.setProperty("width","0px")},onExited:t=>{t.style.removeProperty("width")},onExitCancel:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)}};function z(t){const e=M(t,V),{children:r}=e,n=w("badge"),o=H(n,e),i=W(e),a=L(e);return s.jsxs("span",{className:o.root,style:i.root,children:[r,_(a)&&!!a.length&&s.jsx("sup",{className:o.indicator,style:i.indicator,children:s.jsx(v,{classNames:`${n}-scroll-group-motion`,...q,children:a.map(c=>s.jsx("span",{className:`${n}-scroll-group`,children:c.scroll?s.jsx(T,{char:c.char}):c.char},c.key))})})]})}function I(t){return s.jsx("div",{children:"badge.ribbon"})}const h=Object.assign(z,{Ribbon:I});function tt(){return s.jsxs($,{children:[s.jsx(h,{count:12,children:s.jsx(p,{children:"Badge"})}),s.jsx(h,{count:23,children:s.jsx(p,{children:"Badge"})})]})}function et(){const[t,e]=j.useState(12);return s.jsx($,{children:s.jsx(h,{count:t,children:s.jsx(p,{onClick:()=>{e(~~(Math.random()*100))},children:"Badge"})})})}function rt(){return s.jsx(h,{dot:!0,count:1,children:s.jsx(p,{children:"Badge"})})}function st(){return s.jsx("div",{children:"建设中,敬请期待!"})}export{tt as A,et as a,rt as b,st as c};
