var z=Object.defineProperty;var F=(o,t,e)=>t in o?z(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>F(o,typeof t!="symbol"?t+"":t,e);import{a as V,b as W,n as A,B as $}from"./index-DoajXrrx.js";import{j as c,D as G,S as X,O as Q,c as g,r as m,w as j,a as S,b as J,i as K,e as U,g as L,y as Y,h as Z,p as w,P as tt,Q as et,T as O,E as st,U as ot}from"./index-D5yQv7SO.js";import{g as nt,w as ct,p as T}from"./status-XohwNLM9.js";import{i as it,P as at,w as y,D as rt}from"./index-Bmqa16rF.js";import{p as H}from"./pick-BK4giCUn.js";import{u as ht}from"./index-BUA0V5W2.js";import{c as lt}from"./index-D0Whz-5d.js";import{r as ut}from"./reflow-BiOaXvFx.js";import{G as pt}from"./index-D4J-umfV.js";import{S as R}from"./index-6wJ0gTWu.js";const ft=["top","bottom","topLeft","topRight","bottomLeft","bottomRight"];function dt(o){const{children:t,touchEffect:e={}}=o;return c.jsx(V.Provider,{value:e,children:c.jsx(G.Provider,{value:void 0,children:c.jsx(X.Provider,{value:void 0,children:t})})})}const B={top:24,bottom:24,duration:4500,placement:"topRight",showProgress:!1,pauseOnHover:!0,getContainer:Q,stack:!0};function mt(o,t){const{type:e,className:n,classNames:s={}}=t;return{root:g(o,{[`${o}--${e}`]:e},n,s.root),content:g(`${o}__content`,s.content),icon:g(`${o}__icon`,s.icon),closeBtn:g(`${o}__close-btn`,s.closeBtn),message:g(`${o}__message`,s.message),description:g(`${o}__description`,s.description),progress:g(`${o}__progress`,s.progress)}}const D={duration:4500,placement:"topRight",showProgress:!1,pauseOnHover:!0,closable:!0};function vt(o,t){const e=j(o,D),{message:n,description:s,duration:h,type:l,showProgress:p,onClick:u,onClose:f}=e,r=S("notification-notice"),a=mt(r,e),d=J(e),b=lt(h,f);m.useEffect(b,[b]);const C=x=>{x.stopPropagation(),x.preventDefault(),f()},E=m.useMemo(()=>{const x=nt(l);return ct(x,{fallback:c.jsx("span",{className:a.icon,children:x}),props:P=>({className:g(P.className,a.icon),style:{...P.style,...d.icon}})})},[a.icon,d.icon,l]),[v,k]=ht(e,void 0,{closeIconRender:x=>c.jsx("button",{className:a.closeBtn,style:d.closeBtn,tabIndex:0,type:"button",onClick:C,children:x})});return c.jsxs("div",{ref:t,className:a.root,style:d.root,onClick:u,children:[E,c.jsxs("div",{className:a.content,children:[c.jsx("div",{className:a.message,children:n}),!K(s)&&c.jsx("div",{className:a.description,children:s})]}),k,!!p&&c.jsx("progress",{className:a.progress,style:d.progress})]})}const gt=m.forwardRef(vt),M={threshold:3,offset:8,gap:16};class xt{constructor(t){i(this,"components",null);i(this,"transforms",new Map);i(this,"panels",new Map);i(this,"hovers",new Set);i(this,"stackEnable",!1);i(this,"stackConfig",M);this._props=t}}class bt{constructor(t,e){i(this,"normalizeStackInfo",()=>{const{stack:t}=this.states._props,e=t&&!Y(t);this.states.stackEnable=e?!0:!!t,this.states.stackConfig=e?j(t,M):M});i(this,"setPanel",(t,e)=>{e?this.states.panels.set(t,e):this.states.panels.delete(t)});i(this,"setComponents",t=>{this.states.components=(t==null?void 0:t.components)||null});i(this,"setInnerProps",t=>{this.states._props=t,this.normalizeStackInfo()});i(this,"cleanupHover",()=>{const{notices:t}=this._props,e=new Set(t.map(s=>s.key)),n=this.hovers.size;this.hovers.forEach(s=>{!e.has(s)&&this.hovers.delete(s)}),this.hovers.size!==n&&this.forceUpdate()});i(this,"addHover",t=>{this.stackEnable&&(this.cleanupHover(),this.hovers.add(t),this.forceUpdate())});i(this,"removeHover",t=>{this.stackEnable&&(this.hovers.delete(t),this.forceUpdate())});i(this,"filterElements",()=>{if(!this.components)return[];const t=Array.from(this.components).reduce((e,[n,{isExiting:s,isExited:h,element:l}])=>{const p=this.panels.get(n);return p&&l&&!(s||h)&&e.push([p,l]),e},[]);return this.stackConfig?t.reverse():t});i(this,"updateTransforms",()=>{this.transforms.clear();const t=this.filterElements();if(!t.length)return;const{gap:e,offset:n,threshold:s}=this.stackConfig,h=this._props.placement.startsWith("top")?1:-1,l=t.length,p=l<=s||this.hovers.size>0,u=t[0][0];for(let f=0,r=0,a=1;r<l;r++){const[d,b]=t[r],C=(p?d:u).offsetHeight;this.transforms.set(b,{delta:f,scale:a,height:C}),!(r>=l-1)&&(f+=(p?d.offsetHeight+e:n)*h,p||(a=1-n*2*Math.min(r+1,3)/u.offsetWidth))}});i(this,"applyTransforms",t=>{this.updateTransforms();const e=this._props.placement.endsWith("Left")?-1:1;this.transforms.forEach(({delta:n,scale:s,height:h},l)=>{const p=l===t?`${100*e}%`:"0";l.$set("transform",`translate3d(${p}, ${n}px, 0) scaleX(${s})`),l.$set("height",h?`${h}px`:"")})});i(this,"removeTransforms",()=>{this.filterElements().forEach(([t,e])=>{e.$remove("transform"),e.$remove("height")})});i(this,"handleUpdate",()=>{this.stackEnable?this.applyTransforms():this.removeTransforms()});i(this,"handleEnter",t=>{this.stackEnable&&(this.cleanupHover(),t.$set("transition-duration","0s","important"),this.applyTransforms(t),ut(t),t.$remove("transition-duration"))});i(this,"handleEntering",t=>{if(!this.stackEnable)return;const{delta:e,scale:n}=this.transforms.get(t)||{},s=`translate3d(0, ${e||0}px, 0) scaleX(${n||1})`;t.$set("transform",s)});i(this,"handleExit",t=>{this.stackEnable&&this.applyTransforms(),t.$set("height",`${t.offsetHeight}px`)});i(this,"handleExiting",t=>{t.$set("height","0px")});this.forceUpdate=t,this.states=e}get components(){return this.states.components}get panels(){return this.states.panels}get transforms(){return this.states.transforms}get hovers(){return this.states.hovers}get _props(){return this.states._props}get stackEnable(){return this.states.stackEnable}get stackConfig(){return this.states.stackConfig}}function kt(o){const t=U(),e=L(()=>new xt(o)),n=m.useMemo(()=>new bt(t,e),[t,e]);return m.useMemo(()=>{n.setInnerProps(o)},[n,o]),{states:e,actions:n}}function jt(o,t,e){const n=W(e.handleUpdate),s={compare:it,listener:n};Z([o.stack,t.hovers.size],s)}function Ct(o){const{notices:t,placement:e,top:n,bottom:s,onClose:h,onFinished:l}=o,p=e.startsWith("bottom")?{bottom:s}:{top:n},u=S("notification"),{states:f,actions:r}=kt(o),{stackEnable:a,hovers:d,stackConfig:{gap:b,threshold:C}}=f,E=a&&(t.length<=C||d.size>0);return jt(o,f,r),c.jsx("div",{className:g(u,{[`${u}--${e}`]:e,[`${u}--stack`]:a,[`${u}--expanded`]:E}),style:j(p,{zIndex:2e3}),children:c.jsx(pt,{ref:r.setComponents,appear:!0,classNames:`${u}-motion`,onEnter:r.handleEnter,onEntering:r.handleEntering,onExit:r.handleExit,onExiting:r.handleExiting,onFinished:l,children:t.map(v=>c.jsxs("div",{className:`${u}-notice-wrapper`,onMouseEnter:()=>{r.addHover(v.key)},onMouseLeave:()=>{r.removeHover(v.key)},children:[m.createElement(gt,{...v,key:v.key,ref:k=>{r.setPanel(v.key,k)},onClose:()=>{var k;(k=v.onClose)==null||k.call(v),h(v.key)}}),E&&c.jsx("div",{className:`${u}-pointer-holder`,style:{height:b}})]},v.key))})})}const _=["duration","pauseOnHover","placement","showProgress","closable","closeIcon"];class Et{constructor(){i(this,"uniqueId",tt("nt-"));i(this,"configs",ft.map(t=>({placement:t,visible:!1,notices:[]})))}}class $t{constructor(t,e){i(this,"open",t=>{const e=j(t,{key:w(t.key)?this.states.uniqueId():t.key},H(N.globalConfig,_),H(D,_)),n=this.configs.find(s=>s.placement===e.placement);n&&(n.notices.push(e),n.visible=!0,this.forceUpdate())});i(this,"close",t=>{let e=w(t);this.states.configs=this.states.configs.map(n=>{const{notices:s}=n;if(w(t))return{...n,notices:[]};const h=s.filter(l=>l.key!==t);return h.length===s.length?n:(e=!0,{...n,notices:h})}),e&&this.forceUpdate()});i(this,"finish",t=>{this.states.configs=this.states.configs.map(e=>e.placement!==t?e:{...e,visible:e.notices.length>0},null),this.forceUpdate()});i(this,"inject",()=>{const t=T.reduce((e,n)=>(e[n]=s=>{this.open({...s,type:n})},e),{});return{open:this.open,close:this.close,...t}});this.forceUpdate=t,this.states=e}get configs(){return this.states.configs}}function q(o){const t=j(o||{},B),{getContainer:e,top:n,bottom:s,stack:h,maxCount:l}=t,p=U(),u=L(()=>new Et),f=m.useMemo(()=>new $t(p,u),[p,u]),r=m.useMemo(()=>f.inject(),[f]);return[r,c.jsx(at,{getContainer:e,children:u.configs.map(a=>a.visible&&c.jsx(Ct,{top:n,bottom:s,stack:h,maxCount:l,placement:a.placement,notices:a.notices,onClose:d=>{r.close(d)},onFinished:()=>{f.finish(a.placement)}},a.placement))})]}function Nt(o,t){const[e,n]=m.useState(()=>({...N.globalConfig})),[s,h]=q(e);return m.useImperativeHandle(t,()=>({get open(){return s.open},get close(){return s.close},sync:()=>{n({...N.globalConfig})}}),[s]),c.jsx(dt,{children:h})}const yt=m.forwardRef(Nt);class wt{constructor(){i(this,"holder",null);i(this,"flushCleanup",A);i(this,"queue",[]);i(this,"globalConfig",{...B});i(this,"_ensure",()=>this.holder?this.holder:new Promise(t=>{et(document.createDocumentFragment()).render(c.jsx(O.StrictMode,{children:c.jsx(yt,{ref:e=>{this.holder||(this.holder=e),this.holder&&t(this.holder)}})}))}));i(this,"flush",()=>{this.flushCleanup(),this.flushCleanup=st(()=>{const t=this._ensure(),e=n=>{n.sync(),this.queue.forEach(s=>{s(n)}),this.queue=[]};ot(t)?t.then(e):e(t)})});i(this,"open",t=>{this.queue.push(e=>{e.open(t)}),this.flush()});i(this,"close",t=>{this.queue.push(e=>{e.close(t)}),this.flush()});i(this,"config",t=>{var e;this.globalConfig=j(t,this.globalConfig),(e=this.holder)==null||e.sync()});i(this,"inject",()=>{const t=T.reduce((e,n)=>(e[n]=s=>{this.open({...s,type:n})},e),{});return{open:this.open,close:this.close,config:this.config,...t}})}}const N=new wt,Mt=Object.assign(N.inject(),{useNotification:q});function Pt(o){const t=o;return c.jsx("svg",{...t,children:c.jsx("path",{d:"M712 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m2-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M136 374h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m0-174h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m752 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-230 72h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m230 624H358c-87.3 0-158-70.7-158-158V484c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v182c0 127 103 230 230 230h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8"})})}const Ht=y(Pt,{name:"radius-bottomleft",theme:"outlined"});function Rt(o){const t=o;return c.jsx("svg",{...t,children:c.jsx("path",{d:"M368 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-58-624h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m578 102h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m292 72h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m174 0h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m230 276h-56c-4.4 0-8 3.6-8 8v182c0 87.3-70.7 158-158 158H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c127 0 230-103 230-230V484c0-4.4-3.6-8-8-8"})})}const _t=y(Rt,{name:"radius-bottomright",theme:"outlined"});function It(o){const t=o;return c.jsx("svg",{...t,children:c.jsx("path",{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m58 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m696-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m174-696H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8"})})}const St=y(It,{name:"radius-upleft",theme:"outlined"});function Ut(o){const t=o;return c.jsx("svg",{...t,children:c.jsx("path",{d:"M368 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-2 696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m522-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-48-696H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c87.3 0 158 70.7 158 158v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-127-103-230-230-230"})})}const Lt=y(Ut,{name:"radius-upright",theme:"outlined"}),I=O.createContext({name:"Default"});function Xt(){const[o,t]=Mt.useNotification(),e=s=>{o.info({message:`Notification ${s}`,description:c.jsx(I.Consumer,{children:({name:h})=>`Hello, ${h}!`}),placement:s,duration:1e10})},n=m.useMemo(()=>({name:"Ink UI"}),[]);return c.jsxs(I.Provider,{value:n,children:[t,c.jsxs(R,{children:[c.jsxs($,{variant:"filled",onClick:()=>e("topLeft"),children:[c.jsx(St,{}),"topLeft"]}),c.jsxs($,{variant:"filled",onClick:()=>e("topRight"),children:[c.jsx(Lt,{}),"topRight"]})]}),c.jsx(rt,{}),c.jsxs(R,{children:[c.jsxs($,{variant:"filled",onClick:()=>e("bottomLeft"),children:[c.jsx(Ht,{}),"bottomLeft"]}),c.jsxs($,{variant:"filled",onClick:()=>e("bottomRight"),children:[c.jsx(_t,{}),"bottomRight"]})]})]})}export{Xt as A};
