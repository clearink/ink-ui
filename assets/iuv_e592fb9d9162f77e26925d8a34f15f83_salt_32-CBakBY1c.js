var q=Object.defineProperty;var z=(s,t,e)=>t in s?q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>z(s,typeof t!="symbol"?t+"":t,e);import{a as F,i as V,u as W,n as A,B as $}from"./index-g7ZNuUhb.js";import{t as G,v as X,n as K,j as i,D as J,S as Q,K as Y,c as g,r as f,w as b,a as S,b as Z,i as tt,e as U,g as L,h as et,p as w,L as st,M as nt,B as ot,N as ct}from"./index-CihyO-ZF.js";import{g as it,w as at,p as B}from"./status-B8_OUYWY.js";import{i as rt,P as ht,w as y,D as lt}from"./index-C7BdX0vq.js";import{p as H}from"./pick-BK4giCUn.js";import{u as ut}from"./index-DiVYil1r.js";import{c as pt}from"./index-W7UNgHI_.js";import{r as ft}from"./reflow-DDsS2A4d.js";import{G as dt}from"./index-CHe00rJX.js";import{S as R}from"./index-B64Ft1kA.js";function mt(s){return G(s)==="Promise"||X(s)&&K(s.then)}const vt=["top","bottom","topLeft","topRight","bottomLeft","bottomRight"];function gt(s){const{children:t,touchEffect:e={}}=s;return i.jsx(F.Provider,{value:e,children:i.jsx(J.Provider,{value:void 0,children:i.jsx(Q.Provider,{value:void 0,children:t})})})}const O={top:24,bottom:24,duration:4500,placement:"topRight",showProgress:!1,pauseOnHover:!0,getContainer:Y,stack:!0};class xt{constructor(){c(this,"config",{...O});c(this,"get",()=>({...this.config}));c(this,"set",t=>{this.config=t})}}const E=new xt;function kt(s,t){const{type:e,className:o,classNames:n={}}=t;return{root:g(s,{[`${s}--${e}`]:e},o,n.root),content:g(`${s}__content`,n.content),icon:g(`${s}__icon`,n.icon),closeBtn:g(`${s}__close-btn`,n.closeBtn),message:g(`${s}__message`,n.message),description:g(`${s}__description`,n.description),progress:g(`${s}__progress`,n.progress)}}const T={duration:4500,placement:"topRight",showProgress:!1,pauseOnHover:!0,closable:!0};function jt(s,t){const e=b(s,T),{message:o,description:n,duration:h,type:l,showProgress:p,onClick:u,onClose:d}=e,r=S("notification-notice"),a=kt(r,e),m=Z(e),k=pt(h,d);f.useEffect(k,[k]);const C=x=>{x.stopPropagation(),x.preventDefault(),d()},N=f.useMemo(()=>{const x=it(l);return at(x,{fallback:i.jsx("span",{className:a.icon,children:x}),props:P=>({className:g(P.className,a.icon),style:{...P.style,...m.icon}})})},[a.icon,m.icon,l]),[v,j]=ut(e,void 0,{closeIconRender:x=>i.jsx("button",{className:a.closeBtn,style:m.closeBtn,tabIndex:0,type:"button",onClick:C,children:x})});return i.jsxs("div",{ref:t,className:a.root,style:m.root,onClick:u,children:[N,i.jsxs("div",{className:a.content,children:[i.jsx("div",{className:a.message,children:o}),!tt(n)&&i.jsx("div",{className:a.description,children:n})]}),j,!!p&&i.jsx("progress",{className:a.progress,style:m.progress})]})}const bt=f.forwardRef(jt),M={threshold:3,offset:8,gap:16};class Ct{constructor(t){c(this,"components",null);c(this,"transforms",new Map);c(this,"panels",new Map);c(this,"hovers",new Set);c(this,"stackEnable",!1);c(this,"stackConfig",M);this._props=t}}class Et{constructor(t,e){c(this,"normalizeStackInfo",()=>{const{stack:t}=this.states._props,e=t&&!V(t);this.states.stackEnable=e?!0:!!t,this.states.stackConfig=e?b(t,M):M});c(this,"setPanel",(t,e)=>{e?this.states.panels.set(t,e):this.states.panels.delete(t)});c(this,"setComponents",t=>{this.states.components=(t==null?void 0:t.components)||null});c(this,"setInnerProps",t=>{this.states._props=t,this.normalizeStackInfo()});c(this,"cleanupHover",()=>{const{notices:t}=this._props,e=new Set(t.map(n=>n.key)),o=this.hovers.size;this.hovers.forEach(n=>{!e.has(n)&&this.hovers.delete(n)}),this.hovers.size!==o&&this.forceUpdate()});c(this,"addHover",t=>{this.stackEnable&&(this.cleanupHover(),this.hovers.add(t),this.forceUpdate())});c(this,"removeHover",t=>{this.stackEnable&&(this.hovers.delete(t),this.forceUpdate())});c(this,"filterElements",()=>{if(!this.components)return[];const t=Array.from(this.components).reduce((e,[o,{isExiting:n,isExited:h,element:l}])=>{const p=this.panels.get(o);return p&&l&&!(n||h)&&e.push([p,l]),e},[]);return this.stackConfig?t.reverse():t});c(this,"updateTransforms",()=>{this.transforms.clear();const t=this.filterElements();if(!t.length)return;const{gap:e,offset:o,threshold:n}=this.stackConfig,h=this._props.placement.startsWith("top")?1:-1,l=t.length,p=l<=n||this.hovers.size>0,u=t[0][0];for(let d=0,r=0,a=1;r<l;r++){const[m,k]=t[r],C=(p?m:u).offsetHeight;this.transforms.set(k,{delta:d,scale:a,height:C}),!(r>=l-1)&&(d+=(p?m.offsetHeight+e:o)*h,p||(a=1-o*2*Math.min(r+1,3)/u.offsetWidth))}});c(this,"applyTransforms",t=>{this.updateTransforms();const e=this._props.placement.endsWith("Left")?-1:1;this.transforms.forEach(({delta:o,scale:n,height:h},l)=>{const p=l===t?`${100*e}%`:"0";l.$set("transform",`translate3d(${p}, ${o}px, 0) scaleX(${n})`),l.$set("height",h?`${h}px`:"")})});c(this,"removeTransforms",()=>{this.filterElements().forEach(([t,e])=>{e.$remove("transform"),e.$remove("height")})});c(this,"handleUpdate",()=>{this.stackEnable?this.applyTransforms():this.removeTransforms()});c(this,"handleEnter",t=>{this.stackEnable&&(this.cleanupHover(),t.$set("transition-duration","0s","important"),this.applyTransforms(t),ft(t),t.$remove("transition-duration"))});c(this,"handleEntering",t=>{if(!this.stackEnable)return;const{delta:e,scale:o}=this.transforms.get(t)||{},n=`translate3d(0, ${e||0}px, 0) scaleX(${o||1})`;t.$set("transform",n)});c(this,"handleExit",t=>{this.stackEnable&&this.applyTransforms(),t.$set("height",`${t.offsetHeight}px`)});c(this,"handleExiting",t=>{t.$set("height","0px")});this.forceUpdate=t,this.states=e}get components(){return this.states.components}get panels(){return this.states.panels}get transforms(){return this.states.transforms}get hovers(){return this.states.hovers}get _props(){return this.states._props}get stackEnable(){return this.states.stackEnable}get stackConfig(){return this.states.stackConfig}}function Nt(s){const t=U(),e=L(()=>new Ct(s)),o=f.useMemo(()=>new Et(t,e),[t,e]);return f.useMemo(()=>{o.setInnerProps(s)},[o,s]),{states:e,actions:o}}function $t(s,t,e){const o=W(e.handleUpdate),n={compare:rt,listener:o};et([s.stack,t.hovers.size],n)}function yt(s){const{notices:t,placement:e,top:o,bottom:n,onClose:h,onFinished:l}=s,p=e.startsWith("bottom")?{bottom:n}:{top:o},u=S("notification"),{states:d,actions:r}=Nt(s),{stackEnable:a,hovers:m,stackConfig:{gap:k,threshold:C}}=d,N=a&&(t.length<=C||m.size>0);return $t(s,d,r),i.jsx("div",{className:g(u,{[`${u}--${e}`]:e,[`${u}--stack`]:a,[`${u}--expanded`]:N}),style:b(p,{zIndex:2e3}),children:i.jsx(dt,{ref:r.setComponents,appear:!0,classNames:`${u}-motion`,onEnter:r.handleEnter,onEntering:r.handleEntering,onExit:r.handleExit,onExiting:r.handleExiting,onFinished:l,children:t.map(v=>i.jsxs("div",{className:`${u}-notice-wrapper`,onMouseEnter:()=>{r.addHover(v.key)},onMouseLeave:()=>{r.removeHover(v.key)},children:[f.createElement(bt,{...v,key:v.key,ref:j=>{r.setPanel(v.key,j)},onClose:()=>{var j;(j=v.onClose)==null||j.call(v),h(v.key)}}),N&&i.jsx("div",{className:`${u}-pointer-holder`,style:{height:k}})]},v.key))})})}const _=["duration","pauseOnHover","placement","showProgress","closable","closeIcon"];class wt{constructor(){c(this,"uniqueId",st("nt-"));c(this,"configs",vt.map(t=>({placement:t,visible:!1,notices:[]})))}}class Mt{constructor(t,e){c(this,"open",t=>{const e=b(t,{key:w(t.key)?this.states.uniqueId():t.key},H(E.get(),_),H(T,_)),o=this.configs.find(n=>n.placement===e.placement);o&&(o.notices.push(e),o.visible=!0,this.forceUpdate())});c(this,"close",t=>{let e=w(t);this.states.configs=this.states.configs.map(o=>{const{notices:n}=o;if(w(t))return{...o,notices:[]};const h=n.filter(l=>l.key!==t);return h.length===n.length?o:(e=!0,{...o,notices:h})}),e&&this.forceUpdate()});c(this,"finish",t=>{this.states.configs=this.states.configs.map(e=>e.placement!==t?e:{...e,visible:e.notices.length>0},null),this.forceUpdate()});c(this,"inject",()=>{const t=B.reduce((e,o)=>(e[o]=n=>{this.open({...n,type:o})},e),{});return{open:this.open,close:this.close,...t}});this.forceUpdate=t,this.states=e}get configs(){return this.states.configs}}function D(s){const t=b(s||{},O),{getContainer:e,top:o,bottom:n,stack:h,maxCount:l}=t,p=U(),u=L(()=>new wt),d=f.useMemo(()=>new Mt(p,u),[p,u]),r=f.useMemo(()=>d.inject(),[d]);return[r,i.jsx(ht,{getContainer:e,children:u.configs.map(a=>a.visible&&i.jsx(yt,{top:o,bottom:n,stack:h,maxCount:l,placement:a.placement,notices:a.notices,onClose:m=>{r.close(m)},onFinished:()=>{d.finish(a.placement)}},a.placement))})]}function Pt(s,t){const[e,o]=f.useState(E.get),[n,h]=D(e);return f.useImperativeHandle(t,()=>({get open(){return n.open},get close(){return n.close},sync:()=>{o(E.get())}}),[n]),i.jsx(gt,{children:h})}const Ht=f.forwardRef(Pt);class Rt{constructor(){c(this,"holder",null);c(this,"flushCleanup",A);c(this,"queue",[]);c(this,"_ensure",()=>this.holder?this.holder:new Promise(t=>{nt(document.createDocumentFragment()).render(i.jsx(f.StrictMode,{children:i.jsx(Ht,{ref:e=>{this.holder||(this.holder=e),this.holder&&t(this.holder)}})}))}));c(this,"flush",()=>{this.flushCleanup(),this.flushCleanup=ot(()=>{const t=this._ensure(),e=o=>{o.sync(),this.queue.forEach(n=>{n(o)}),this.queue=[]};mt(t)?t.then(e):e(t)})});c(this,"open",t=>{this.queue.push(e=>{e.open(t)}),this.flush()});c(this,"close",t=>{this.queue.push(e=>{e.close(t)}),this.flush()});c(this,"config",t=>{var e;E.set(b(t,E.get())),(e=this.holder)==null||e.sync()});c(this,"inject",()=>{const t=B.reduce((e,o)=>(e[o]=n=>{this.open({...n,type:o})},e),{});return{open:this.open,close:this.close,config:this.config,...t}})}}const _t=new Rt,It=Object.assign(_t.inject(),{useNotification:D});function St(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M712 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m2-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M136 374h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m0-174h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m752 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-230 72h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m230 624H358c-87.3 0-158-70.7-158-158V484c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v182c0 127 103 230 230 230h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8"})})}const Ut=y(St,{name:"radius-bottomleft",theme:"outlined"});function Lt(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M368 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-58-624h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m578 102h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m292 72h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m174 0h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m230 276h-56c-4.4 0-8 3.6-8 8v182c0 87.3-70.7 158-158 158H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c127 0 230-103 230-230V484c0-4.4-3.6-8-8-8"})})}const Bt=y(Lt,{name:"radius-bottomright",theme:"outlined"});function Ot(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m58 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m696-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m174-696H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8"})})}const Tt=y(Ot,{name:"radius-upleft",theme:"outlined"});function Dt(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M368 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-2 696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m522-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-48-696H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c87.3 0 158 70.7 158 158v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-127-103-230-230-230"})})}const qt=y(Dt,{name:"radius-upright",theme:"outlined"}),I=ct.createContext({name:"Default"});function Zt(){const[s,t]=It.useNotification(),e=n=>{s.info({message:`Notification ${n}`,description:i.jsx(I.Consumer,{children:({name:h})=>`Hello, ${h}!`}),placement:n,duration:1e10})},o=f.useMemo(()=>({name:"Ink UI"}),[]);return i.jsxs(I.Provider,{value:o,children:[t,i.jsxs(R,{children:[i.jsxs($,{variant:"filled",onClick:()=>e("topLeft"),children:[i.jsx(Tt,{}),"topLeft"]}),i.jsxs($,{variant:"filled",onClick:()=>e("topRight"),children:[i.jsx(qt,{}),"topRight"]})]}),i.jsx(lt,{}),i.jsxs(R,{children:[i.jsxs($,{variant:"filled",onClick:()=>e("bottomLeft"),children:[i.jsx(Ut,{}),"bottomLeft"]}),i.jsxs($,{variant:"filled",onClick:()=>e("bottomRight"),children:[i.jsx(Bt,{}),"bottomRight"]})]})]})}export{Zt as A};
