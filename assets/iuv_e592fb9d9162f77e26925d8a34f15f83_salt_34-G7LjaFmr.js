var q=Object.defineProperty;var z=(s,t,e)=>t in s?q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>z(s,typeof t!="symbol"?t+"":t,e);import{a as F,i as V,u as W,n as A,B as N}from"./index-Ddq968lt.js";import{t as G,v as X,n as J,j as i,D as K,S as Q,M as Y,c as g,r as m,w as j,a as S,b as Z,i as tt,y as U,g as O,h as et,p as $,N as st,d as ot,O as nt,E as ct,R as it}from"./index-x9Tw_J00.js";import{g as rt,w as at,p as L}from"./status-u7zFuvx_.js";import{a as ht,P as lt,w as P,D as ut}from"./index-BnmwbkTk.js";import{p as R}from"./pick-BK4giCUn.js";import{u as pt}from"./index-Bh-IgqCB.js";import{c as ft}from"./index-g2SDNmCz.js";import{r as dt}from"./reflow-BH6zP2ks.js";import{G as mt}from"./index-D4z8gvjY.js";import{S as H}from"./index-CGvZXIBR.js";function vt(s){return G(s)==="Promise"||X(s)&&J(s.then)}const gt=["top","bottom","topLeft","topRight","bottomLeft","bottomRight"];function xt(s){const{children:t,touchEffect:e={}}=s;return i.jsx(F.Provider,{value:e,children:i.jsx(K.Provider,{value:void 0,children:i.jsx(Q.Provider,{value:void 0,children:t})})})}const T={top:24,bottom:24,duration:4500,placement:"topRight",showProgress:!1,pauseOnHover:!0,getContainer:Y,stack:!0};class yt{constructor(){c(this,"config",{...T});c(this,"get",()=>({...this.config}));c(this,"set",t=>{this.config=t})}}const E=new yt;function kt(s,t){const{type:e,className:n,classNames:o={}}=t;return{root:g(s,{[`${s}--${e}`]:e},n,o.root),content:g(`${s}__content`,o.content),icon:g(`${s}__icon`,o.icon),closeBtn:g(`${s}__close-btn`,o.closeBtn),message:g(`${s}__message`,o.message),description:g(`${s}__description`,o.description),progress:g(`${s}__progress`,o.progress)}}const B={duration:4500,placement:"topRight",showProgress:!1,pauseOnHover:!0,closable:!0};function jt(s,t){const e=j(s,B),{message:n,description:o,duration:h,type:l,showProgress:p,onClick:u,onClose:f}=e,a=S("notification-notice"),r=kt(a,e),d=Z(e),y=ft(h,f);m.useEffect(y,[y]);const b=x=>{x.stopPropagation(),x.preventDefault(),f()},C=m.useMemo(()=>{const x=rt(l);return at(x,{fallback:i.jsx("span",{className:r.icon,children:x}),props:M=>({className:g(M.className,r.icon),style:{...M.style,...d.icon}})})},[r.icon,d.icon,l]),[v,k]=pt(e,void 0,{closeIconRender:x=>i.jsx("button",{className:r.closeBtn,style:d.closeBtn,tabIndex:0,type:"button",onClick:b,children:x})});return i.jsxs("div",{ref:t,className:r.root,style:d.root,onClick:u,children:[C,i.jsxs("div",{className:r.content,children:[i.jsx("div",{className:r.message,children:n}),!tt(o)&&i.jsx("div",{className:r.description,children:o})]}),k,!!p&&i.jsx("progress",{className:r.progress,style:d.progress})]})}const bt=m.forwardRef(jt),w={threshold:3,offset:8,gap:16};class Et{constructor(t){c(this,"components",null);c(this,"transforms",new Map);c(this,"panels",new Map);c(this,"hovers",new Set);c(this,"stackEnable",!1);c(this,"stackConfig",w);this._props=t}}class Ct{constructor(t,e){c(this,"normalizeStackInfo",()=>{const{stack:t}=this.states._props,e=t&&!V(t);this.states.stackEnable=e?!0:!!t,this.states.stackConfig=e?j(t,w):w});c(this,"setPanel",(t,e)=>{e?this.states.panels.set(t,e):this.states.panels.delete(t)});c(this,"setComponents",t=>{this.states.components=(t==null?void 0:t.components)||null});c(this,"setInnerProps",t=>{this.states._props=t,this.normalizeStackInfo()});c(this,"cleanupHover",()=>{const{notices:t}=this._props,e=new Set(t.map(o=>o.key)),n=this.hovers.size;this.hovers.forEach(o=>{!e.has(o)&&this.hovers.delete(o)}),this.hovers.size!==n&&this.forceUpdate()});c(this,"addHover",t=>{this.stackEnable&&(this.cleanupHover(),this.hovers.add(t),this.forceUpdate())});c(this,"removeHover",t=>{this.stackEnable&&(this.hovers.delete(t),this.forceUpdate())});c(this,"filterElements",()=>{if(!this.components)return[];const t=Array.from(this.components).reduce((e,[n,{isExiting:o,isExited:h,element:l}])=>{const p=this.panels.get(n);return p&&l&&!(o||h)&&e.push([p,l]),e},[]);return this.stackConfig?t.reverse():t});c(this,"updateTransforms",()=>{this.transforms.clear();const t=this.filterElements();if(!t.length)return;const{gap:e,offset:n,threshold:o}=this.stackConfig,h=this._props.placement.startsWith("top")?1:-1,l=t.length,p=l<=o||this.hovers.size>0,u=t[0][0];for(let f=0,a=0,r=1;a<l;a++){const[d,y]=t[a],b=(p?d:u).offsetHeight;this.transforms.set(y,{delta:f,scale:r,height:b}),!(a>=l-1)&&(f+=(p?d.offsetHeight+e:n)*h,p||(r=1-n*2*Math.min(a+1,3)/u.offsetWidth))}});c(this,"applyTransforms",t=>{this.updateTransforms();const e=this._props.placement.endsWith("Left")?-1:1;this.transforms.forEach(({delta:n,scale:o,height:h},l)=>{const p=l===t?`${100*e}%`:"0";l.style.setProperty("transform",`translate3d(${p}, ${n}px, 0) scaleX(${o})`),l.style.setProperty("height",h?`${h}px`:"")})});c(this,"removeTransforms",()=>{this.filterElements().forEach(([t,e])=>{e.style.removeProperty("transform"),e.style.removeProperty("height")})});c(this,"handleUpdate",()=>{this.stackEnable?this.applyTransforms():this.removeTransforms()});c(this,"handleEnter",t=>{this.stackEnable&&(this.cleanupHover(),t.style.setProperty("transition-duration","0s","important"),this.applyTransforms(t),dt(t),t.style.removeProperty("transition-duration"))});c(this,"handleEntering",t=>{if(!this.stackEnable)return;const{delta:e,scale:n}=this.transforms.get(t)||{},o=`translate3d(0, ${e||0}px, 0) scaleX(${n||1})`;t.style.setProperty("transform",o)});c(this,"handleExit",t=>{this.stackEnable&&this.applyTransforms(),t.style.setProperty("height",`${t.offsetHeight}px`)});c(this,"handleExiting",t=>{t.style.setProperty("height","0px")});this.forceUpdate=t,this.states=e}get components(){return this.states.components}get panels(){return this.states.panels}get transforms(){return this.states.transforms}get hovers(){return this.states.hovers}get _props(){return this.states._props}get stackEnable(){return this.states.stackEnable}get stackConfig(){return this.states.stackConfig}}function Nt(s){const t=U(),e=O(()=>new Et(s)),n=m.useMemo(()=>new Ct(t,e),[t,e]);return m.useMemo(()=>{n.setInnerProps(s)},[n,s]),{states:e,actions:n}}function Pt(s,t,e){const n=W(e.handleUpdate),o={compare:ht,listener:n};et([s.stack,t.hovers.size],o)}function $t(s){const{notices:t,placement:e,top:n,bottom:o,onClose:h,onFinished:l}=s,p=e.startsWith("bottom")?{bottom:o}:{top:n},u=S("notification"),{states:f,actions:a}=Nt(s),{stackEnable:r,hovers:d,stackConfig:{gap:y,threshold:b}}=f,C=r&&(t.length<=b||d.size>0);return Pt(s,f,a),i.jsx("div",{className:g(u,{[`${u}--${e}`]:e,[`${u}--stack`]:r,[`${u}--expanded`]:C}),style:j(p,{zIndex:2e3}),children:i.jsx(mt,{ref:a.setComponents,appear:!0,classNames:`${u}-motion`,onEnter:a.handleEnter,onEntering:a.handleEntering,onExit:a.handleExit,onExiting:a.handleExiting,onFinished:l,children:t.map(v=>i.jsxs("div",{className:`${u}-notice-wrapper`,onMouseEnter:()=>{a.addHover(v.key)},onMouseLeave:()=>{a.removeHover(v.key)},children:[m.createElement(bt,{...v,key:v.key,ref:k=>{a.setPanel(v.key,k)},onClose:()=>{var k;(k=v.onClose)==null||k.call(v),h(v.key)}}),C&&i.jsx("div",{className:`${u}-pointer-holder`,style:{height:y}})]},v.key))})})}const _=["duration","pauseOnHover","placement","showProgress","closable","closeIcon"];class wt{constructor(){c(this,"uniqueId",st("nt-"));c(this,"configs",gt.map(t=>({placement:t,visible:!1,notices:[]})))}}class Mt{constructor(t,e){c(this,"open",t=>{const e=j(t,{key:$(t.key)?this.states.uniqueId():t.key},R(E.get(),_),R(B,_)),n=this.configs.find(o=>o.placement===e.placement);n&&(n.notices.push(e),n.visible=!0,this.forceUpdate())});c(this,"close",t=>{let e=$(t);this.states.configs=this.states.configs.map(n=>{const{notices:o}=n;if($(t))return{...n,notices:[]};const h=o.filter(l=>l.key!==t);return h.length===o.length?n:(e=!0,{...n,notices:h})}),e&&this.forceUpdate()});c(this,"finish",t=>{this.states.configs=this.states.configs.map(e=>e.placement!==t?e:{...e,visible:e.notices.length>0},null),this.forceUpdate()});c(this,"inject",()=>{const t=L.reduce((e,n)=>(e[n]=o=>{this.open({...o,type:n})},e),{});return{open:this.open,close:this.close,...t}});this.forceUpdate=t,this.states=e}get configs(){return this.states.configs}}function D(s){const t=j(s||{},T),{getContainer:e,top:n,bottom:o,stack:h,maxCount:l}=t,p=U(),u=O(()=>new wt),f=m.useMemo(()=>new Mt(p,u),[p,u]),a=m.useMemo(()=>f.inject(),[f]);return[a,i.jsx(lt,{getContainer:e,children:u.configs.map(r=>r.visible&&i.jsx($t,{top:n,bottom:o,stack:h,maxCount:l,placement:r.placement,notices:r.notices,onClose:d=>{a.close(d)},onFinished:()=>{f.finish(r.placement)}},r.placement))})]}function Rt(s,t){const[e,n]=ot(E.get),[o,h]=D(e);return m.useImperativeHandle(t,()=>({get open(){return o.open},get close(){return o.close},sync:()=>{n(E.get())}}),[o.close,o.open,n]),i.jsx(xt,{children:h})}const Ht=m.forwardRef(Rt);class _t{constructor(){c(this,"holder",null);c(this,"flushCleanup",A);c(this,"queue",[]);c(this,"_ensure",()=>this.holder?this.holder:new Promise(t=>{nt(document.createDocumentFragment()).render(i.jsx(m.StrictMode,{children:i.jsx(Ht,{ref:e=>{this.holder||(this.holder=e),this.holder&&t(this.holder)}})}))}));c(this,"flush",()=>{this.flushCleanup(),this.flushCleanup=ct(()=>{const t=this._ensure(),e=n=>{n.sync(),this.queue.forEach(o=>{o(n)}),this.queue=[]};vt(t)?t.then(e):e(t)})});c(this,"open",t=>{this.queue.push(e=>{e.open(t)}),this.flush()});c(this,"close",t=>{this.queue.push(e=>{e.close(t)}),this.flush()});c(this,"config",t=>{var e;E.set(j(t,E.get())),(e=this.holder)==null||e.sync()});c(this,"inject",()=>{const t=L.reduce((e,n)=>(e[n]=o=>{this.open({...o,type:n})},e),{});return{open:this.open,close:this.close,config:this.config,...t}})}}const It=new _t,St=Object.assign(It.inject(),{useNotification:D});function Ut(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M712 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m2-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M136 374h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m0-174h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m752 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-230 72h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m230 624H358c-87.3 0-158-70.7-158-158V484c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v182c0 127 103 230 230 230h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8"})})}const Ot=P(Ut,{name:"radius-bottomleft",theme:"outlined"});function Lt(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M368 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-58-624h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m578 102h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 824h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m292 72h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m174 0h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m230 276h-56c-4.4 0-8 3.6-8 8v182c0 87.3-70.7 158-158 158H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c127 0 230-103 230-230V484c0-4.4-3.6-8-8-8"})})}const Tt=P(Lt,{name:"radius-bottomright",theme:"outlined"});function Bt(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M656 200h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8m58 624h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 650h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m696-696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m174-696H358c-127 0-230 103-230 230v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-87.3 70.7-158 158-158h182c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8"})})}const Dt=P(Bt,{name:"radius-upleft",theme:"outlined"});function qt(s){const t=s;return i.jsx("svg",{...t,children:i.jsx("path",{d:"M368 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-2 696h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m522-174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8M192 128h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m0 174h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m348 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m174 0h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8m-48-696H484c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h182c87.3 0 158 70.7 158 158v182c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V358c0-127-103-230-230-230"})})}const zt=P(qt,{name:"radius-upright",theme:"outlined"}),I=it.createContext({name:"Default"});function te(){const[s,t]=St.useNotification(),e=o=>{s.info({message:`Notification ${o}`,description:i.jsx(I.Consumer,{children:({name:h})=>`Hello, ${h}!`}),placement:o,duration:1e10})},n=m.useMemo(()=>({name:"Ink UI"}),[]);return i.jsxs(I.Provider,{value:n,children:[t,i.jsxs(H,{children:[i.jsxs(N,{variant:"filled",onClick:()=>e("topLeft"),children:[i.jsx(Dt,{}),"topLeft"]}),i.jsxs(N,{variant:"filled",onClick:()=>e("topRight"),children:[i.jsx(zt,{}),"topRight"]})]}),i.jsx(ut,{}),i.jsxs(H,{children:[i.jsxs(N,{variant:"filled",onClick:()=>e("bottomLeft"),children:[i.jsx(Ot,{}),"bottomLeft"]}),i.jsxs(N,{variant:"filled",onClick:()=>e("bottomRight"),children:[i.jsx(Tt,{}),"bottomRight"]})]})]})}export{te as A};
